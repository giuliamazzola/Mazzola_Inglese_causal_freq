<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Causalness, frequency, diachrony and the causal-noncausal alternation in Italian and Spanish</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="causal_freq_full_code_files/libs/clipboard/clipboard.min.js"></script>
<script src="causal_freq_full_code_files/libs/quarto-html/quarto.js"></script>
<script src="causal_freq_full_code_files/libs/quarto-html/popper.min.js"></script>
<script src="causal_freq_full_code_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="causal_freq_full_code_files/libs/quarto-html/anchor.min.js"></script>
<link href="causal_freq_full_code_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="causal_freq_full_code_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="causal_freq_full_code_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="causal_freq_full_code_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="causal_freq_full_code_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="causal_freq_full_code_files/libs/kePrint-0.0.1/kePrint.js"></script>

<link href="causal_freq_full_code_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">

<link href="causal_freq_full_code_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="causal_freq_full_code_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="causal_freq_full_code_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="causal_freq_full_code_files/libs/datatables-binding-0.33/datatables.js"></script>

<script src="causal_freq_full_code_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="causal_freq_full_code_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="causal_freq_full_code_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="causal_freq_full_code_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<link href="causal_freq_full_code_files/libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">

<script src="causal_freq_full_code_files/libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>

<link href="causal_freq_full_code_files/libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">

<script src="causal_freq_full_code_files/libs/selectize-0.12.0/selectize.min.js"></script>

<link href="causal_freq_full_code_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="causal_freq_full_code_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>



</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#part-i-calculating-the-causalness-degree-over-time" id="toc-part-i-calculating-the-causalness-degree-over-time" class="nav-link active" data-scroll-target="#part-i-calculating-the-causalness-degree-over-time">Part I: Calculating the causalness degree over time</a>
  <ul class="collapse">
  <li><a href="#overall-purpose" id="toc-overall-purpose" class="nav-link" data-scroll-target="#overall-purpose">Overall purpose</a></li>
  <li><a href="#variability-neighbour-clustering-vnc" id="toc-variability-neighbour-clustering-vnc" class="nav-link" data-scroll-target="#variability-neighbour-clustering-vnc">Variability neighbour clustering (VNC)</a></li>
  <li><a href="#calculate-the-causalness-degree" id="toc-calculate-the-causalness-degree" class="nav-link" data-scroll-target="#calculate-the-causalness-degree">Calculate the <code>Causalness Degree</code></a></li>
  <li><a href="#diachronic-analysis-of-the-noncausal-usage-and-causalness-degree-correlation" id="toc-diachronic-analysis-of-the-noncausal-usage-and-causalness-degree-correlation" class="nav-link" data-scroll-target="#diachronic-analysis-of-the-noncausal-usage-and-causalness-degree-correlation">Diachronic analysis of the noncausal usage and causalness degree correlation</a></li>
  </ul></li>
  <li><a href="#part-ii-frequency-effects-of-causal-degree-on-anticausative-marking-over-time" id="toc-part-ii-frequency-effects-of-causal-degree-on-anticausative-marking-over-time" class="nav-link" data-scroll-target="#part-ii-frequency-effects-of-causal-degree-on-anticausative-marking-over-time">Part II: Frequency effects of causal degree on anticausative marking over time</a>
  <ul class="collapse">
  <li><a href="#italian-data-prepare-for-beta-regression" id="toc-italian-data-prepare-for-beta-regression" class="nav-link" data-scroll-target="#italian-data-prepare-for-beta-regression">Italian data: prepare for Beta Regression</a></li>
  <li><a href="#spanish-data-prepare-for-beta-regression" id="toc-spanish-data-prepare-for-beta-regression" class="nav-link" data-scroll-target="#spanish-data-prepare-for-beta-regression">Spanish data: prepare for Beta Regression</a></li>
  <li><a href="#fit-the-beta-regression-model" id="toc-fit-the-beta-regression-model" class="nav-link" data-scroll-target="#fit-the-beta-regression-model">Fit the Beta Regression model</a></li>
  <li><a href="#visualise-the-results" id="toc-visualise-the-results" class="nav-link" data-scroll-target="#visualise-the-results">Visualise the results</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Causalness, frequency, diachrony and the causal-noncausal alternation in Italian and Spanish</h1>
<p class="subtitle lead">Anonymous submission to Corpus Linguistics and Linguistic Theory - April 2025</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup-packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| results: "hide"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>packages <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"tidyverse"</span>, <span class="st">"knitr"</span>, <span class="st">"data.table"</span>, <span class="st">"DT"</span>, <span class="st">"here"</span>, <span class="st">"kableExtra"</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"lme4"</span>, <span class="st">"openxlsx"</span>, <span class="st">"readxl"</span>, <span class="st">"wesanderson"</span>, <span class="st">"stringr"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"itsadug"</span>, <span class="st">"mgcv"</span>, <span class="st">"report"</span>, <span class="st">"gratia"</span>, <span class="st">"ggrepel"</span>, <span class="st">"gridExtra"</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>installed_packages <span class="ot">&lt;-</span> <span class="fu">rownames</span>(<span class="fu">installed.packages</span>())</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>to_install <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(packages, installed_packages)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(to_install) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">suppressMessages</span>(<span class="fu">install.packages</span>(to_install))</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">invisible</span>(<span class="fu">lapply</span>(packages, <span class="cf">function</span>(pkg) {</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">suppressMessages</span>(<span class="fu">suppressWarnings</span>(<span class="fu">library</span>(pkg, <span class="at">character.only =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>}))</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co">#Set working directory where this Rmd file lives</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(here<span class="sc">::</span><span class="fu">here</span>())</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  romall<span class="ot">&lt;-</span>readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"romall_new_pub.xlsx"</span>)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  nc<span class="ot">&lt;-</span>readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"noncaus_new_pub.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This work is submitted anoyimously together with the homonymous paper to the journal <em>Corpus Linguistics and Linguistic Theory</em>. Since it is unpublished work, the authors kindly ask whoever gets to consult these documents to treat them with the highest confidentiality, and to avoid sharing them or showing them to those who are not involved in the review.</p>
<section id="part-i-calculating-the-causalness-degree-over-time" class="level1">
<h1>Part I: Calculating the causalness degree over time</h1>
<p>Cross-linguistic work on the causal-noncausal alternation has shown that there exists a strong correlation between the frequency of use of a given verb in causal vs.&nbsp;noncausal contexts and its preferred coding pattern for the alternation, with verbs typically occurring in causal contexts preferably selecting the anticausative pattern (Haspelmath et al.&nbsp;2014). These findings rest upon the assumption that the correlation between frequency and coding is diachronic in nature, but this has so far not been tested on historical data.</p>
<p>Data for this study comes from diachronic corpora of Italian (MIDIA, D’Achille &amp; Iacobini 2022) and Spanish (CDH, Real Academia Española 2013), from which the tokens of the 20 verb meanings used in Haspelmath et al.&nbsp;(2014) have been extracted and richly annotated. Each token has been classified according to whether it occurs in a causal or a noncausal context (following Haspelmath et al.&nbsp;2014: 603, we considered passive, impersonal, reflexive, and reciprocal usages as causal) and based on the type of marking, that is, zero marking, marked anticausative (mainly with the reflexive marker <em>si/se</em>), or marked causative (regardless of the type of auxiliary verb, e.g., <em>fare/hacer</em> ‘make’, <em>lasciare/dejar</em> ‘let’, etc.).</p>
<p>Our dataset <code>romall</code> includes causal and noncausal observations. The subset <code>nc</code> only contains noncausal observations, and only includes “the variable contexts”, only verb lemma with alternation between zero and anticausative marking, since from a variationist point of view is important to only look at contexts where the variation actually occurs.</p>
<p>If we zoom in onto the panchronic percentage of noncausal usage of the verbs and plot them against the spontaneity scale (or causative prominence) proposed by Haspelmath (1993), we can observe that Italian and Spanish substantially behaves like other languages in the sample studied by Haspelmath et al.&nbsp;(2014). Although the data in the plot below displays the expected trend, the results may be problematic in that the percentage of noncausal usages has been calculated over the entire Italian and Spanish datasets. The problem is that, since the data comes from diachronic corpora, one cannot be sure of the accuracy of this measurement, as the causalness degree may in fact be variable over time.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Script for Figure 2</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>result_noncaus_meaning <span class="ot">&lt;-</span> romall <span class="sc">%&gt;%</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(language, meaning) <span class="sc">%&gt;%</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">noncaus =</span> <span class="fu">sum</span>(semantics <span class="sc">==</span> <span class="st">'noncaus'</span>) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">n</span>())</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>plot_noncaus_tot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(result_noncaus_meaning, <span class="fu">aes</span>(<span class="at">x =</span> meaning, <span class="at">y =</span> noncaus, <span class="at">color =</span> language, <span class="at">group =</span> language)) <span class="sc">+</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">y =</span> noncaus, <span class="at">color =</span> language), <span class="at">method =</span> <span class="st">'loess'</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"% noncausal usage"</span>, <span class="at">x =</span> <span class="st">"Causative prominence"</span>) <span class="sc">+</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"italian"</span> <span class="ot">=</span> <span class="st">"gray70"</span>, <span class="st">"spanish"</span> <span class="ot">=</span> <span class="st">"gray20"</span>),</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"italian"</span> <span class="ot">=</span> <span class="st">"Italian"</span>, <span class="st">"spanish"</span> <span class="ot">=</span> <span class="st">"Spanish"</span>)) <span class="sc">+</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust=</span><span class="dv">1</span>)  <span class="co"># Rotate x-axis labels</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>custom_order <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"split"</span>, <span class="st">"close"</span>, <span class="st">"break"</span>, <span class="st">"open"</span>, <span class="st">"gather"</span>, <span class="st">"connect"</span>, <span class="st">"rock"</span>, <span class="st">"improve"</span>, <span class="st">"rise"</span>, <span class="st">"fill"</span>, <span class="st">"burn"</span>, <span class="st">"turn"</span>, <span class="st">"stop"</span>, <span class="st">"melt"</span>, <span class="st">"sink"</span>, <span class="st">"go out"</span>, <span class="st">"wake up"</span>, <span class="st">"dry"</span>, <span class="st">"boil"</span>)</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>plot_noncaus_tot <span class="ot">&lt;-</span> plot_noncaus_tot <span class="sc">+</span> <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> custom_order)</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(plot_noncaus_tot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="causal_freq_full_code_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="overall-purpose" class="level2">
<h2 class="anchored" data-anchor-id="overall-purpose">Overall purpose</h2>
<p>We would like to include a new predictor in our dataset, namely the <strong>proportions of causal transitive uses (vs.&nbsp;non causal uses) of the verbs by time</strong>, which we define as <code>causalness degree</code>. In order to do so we need to come up with a periodisation for our data (spanning between 1140 and 2001), which allows to calculate the relative frequency of causal uses by time. To reach a periodisation, a visual survey of the data can be instructive, it might pose the problem of the analyst’s bias, as “different researchers may arrive at different groupings even for the same data set” (Gries &amp; Hilpert 2008:2).</p>
</section>
<section id="variability-neighbour-clustering-vnc" class="level2">
<h2 class="anchored" data-anchor-id="variability-neighbour-clustering-vnc">Variability neighbour clustering (VNC)</h2>
<p>Gries &amp; Hilpert (2008) propose a more accurate method to come up with meaningful periodisation for a given dataset: Variability-based Neighbor Clustering (VNC). It is similar to hierarchical cluster analysis (HCA), i.e.&nbsp;a method that displays a hierarchy of clusters, typically in the form of dendrograms with branches and leaves. Differently from HCA, VNC does justice to the chronological linearity of linguistic developments by not separating adjacent periods, and shows significant differences between periods based on the standard deviation, which is taken as similarity measure and averaging as amalgamation rule.</p>
<p>The analyst needs to input the proportions of a given variant (in our case, causal uses) for periods, ideally decades. The choice of the periods size is somewhat arbitrary, but making different attempts helps to find the right balance between data sparsity and significance of the VNC results. Because at various points in the diachrony of our dataset data are scarce (see Histogram), we started with periods of 20 years and ended up with periods of 70 years. The VNC periodisation based on periods of 70 years is the one with the best results in statistical terms, as the standard deviation measure for different periods are large enough to show significant differences. Hereby we show the procedure.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(romall, <span class="fu">aes</span>(<span class="at">x=</span>year, <span class="at">fill=</span>semantics)) <span class="sc">+</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">position=</span><span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>stringr<span class="sc">::</span><span class="fu">str_to_title</span>(language))<span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">labels=</span><span class="fu">c</span>(<span class="st">"Causal"</span>, <span class="st">"Noncausal"</span>), <span class="at">values=</span> (<span class="fu">c</span>(<span class="st">"#fc8961"</span>, <span class="st">"#b73779"</span>)))<span class="sc">+</span>   <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="causal_freq_full_code_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="establish-the-70-years-periodisation" class="level3">
<h3 class="anchored" data-anchor-id="establish-the-70-years-periodisation">Establish the 70-years periodisation</h3>
<ul>
<li>Step 1: Split the Italian and Spanish dataset.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>esp <span class="ot">&lt;-</span> <span class="fu">filter</span>(romall, language<span class="sc">==</span><span class="st">"spanish"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>ita <span class="ot">&lt;-</span> <span class="fu">filter</span>(romall, language<span class="sc">==</span><span class="st">"italian"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The range of years in the italian dataset is 1200, 1968 and for Spanish 1140, 2001.</p>
<ul>
<li>Step 2: Create a new variable with the years groups in 70-years periods. Periods are indicated with the central years in the 70 years span, i.e.&nbsp;1175 stands for the period between 1140 and 1210.</li>
<li>Step 3: Create a table with proportions of causal and noncausal uses by 70-years periods</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>esp<span class="ot">&lt;-</span>esp <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">period70_es=</span><span class="fu">case_when</span>(</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1210</span> <span class="sc">~</span> <span class="st">"1175"</span>,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1280</span> <span class="sc">~</span> <span class="st">"1245"</span>,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1350</span> <span class="sc">~</span> <span class="st">"1315"</span>, </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1420</span> <span class="sc">~</span> <span class="st">"1385"</span>, </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1490</span> <span class="sc">~</span> <span class="st">"1455"</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1560</span> <span class="sc">~</span> <span class="st">"1525"</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1630</span> <span class="sc">~</span> <span class="st">"1595"</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1700</span> <span class="sc">~</span> <span class="st">"1665"</span>,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1770</span> <span class="sc">~</span> <span class="st">"1735"</span>,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1840</span> <span class="sc">~</span> <span class="st">"1805"</span>,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1910</span> <span class="sc">~</span> <span class="st">"1875"</span>,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1980</span> <span class="sc">~</span> <span class="st">"1945"</span>,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;=</span><span class="dv">2001</span> <span class="sc">~</span> <span class="st">"1990"</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>ita<span class="ot">&lt;-</span>ita <span class="sc">%&gt;%</span> </span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">period70_ita=</span><span class="fu">case_when</span>(</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1270</span> <span class="sc">~</span> <span class="st">"1235"</span>,</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1340</span> <span class="sc">~</span> <span class="st">"1305"</span>,</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1410</span> <span class="sc">~</span> <span class="st">"1375"</span>, </span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1480</span> <span class="sc">~</span> <span class="st">"1445"</span>, </span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1550</span> <span class="sc">~</span> <span class="st">"1515"</span>,</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1620</span> <span class="sc">~</span> <span class="st">"1585"</span>,</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1690</span> <span class="sc">~</span> <span class="st">"1655"</span>,</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1760</span> <span class="sc">~</span> <span class="st">"1725"</span>,</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1830</span> <span class="sc">~</span> <span class="st">"1795"</span>,</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1900</span> <span class="sc">~</span> <span class="st">"1865"</span>,</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1970</span> <span class="sc">~</span> <span class="st">"1935"</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>es_perctable70<span class="ot">&lt;-</span><span class="fu">table</span>(esp<span class="sc">$</span>period70_es,esp<span class="sc">$</span>semantics)</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>es_perctable70<span class="ot">&lt;-</span><span class="fu">prop.table</span>(es_perctable70,<span class="dv">1</span>)<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>es_perctable70<span class="ot">&lt;-</span><span class="fu">as.data.frame</span>(es_perctable70)</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>ita_perctable70<span class="ot">&lt;-</span><span class="fu">table</span>(ita<span class="sc">$</span>period70_ita,ita<span class="sc">$</span>semantics)</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>ita_perctable70<span class="ot">&lt;-</span><span class="fu">prop.table</span>(ita_perctable70,<span class="dv">1</span>)<span class="sc">*</span><span class="dv">100</span> </span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>ita_perctable70<span class="ot">&lt;-</span><span class="fu">as.data.frame</span>(ita_perctable70)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="apply-the-variability-neighbour-clustering-vnc" class="level3">
<h3 class="anchored" data-anchor-id="apply-the-variability-neighbour-clustering-vnc">Apply the Variability neighbour clustering (VNC)</h3>
<ul>
<li><p>Step 1: read the VNC instructions and download the VNC file at this <a href="(https://global.oup.com/us/companion.websites/fdscontent/uscompanion/us/static/companion.websites/nevalainen/Gries-Hilpert_web_final/vnc.individual.html)">link</a></p></li>
<li><p>Step 2: Rename the columns following the instructions from the website</p></li>
<li><p>Step 3: visualise input table for VNC and print it as a txt file</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>es_perctable70<span class="ot">&lt;-</span><span class="fu">filter</span>(es_perctable70, Var2<span class="sc">==</span> <span class="st">"caus"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">year =</span> Var1,<span class="at">input =</span> Freq) <span class="sc">%&gt;%</span> </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, input) </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>ita_perctable70<span class="ot">&lt;-</span><span class="fu">filter</span>(ita_perctable70, Var2<span class="sc">==</span> <span class="st">"caus"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">year =</span> Var1,<span class="at">input =</span> Freq) <span class="sc">%&gt;%</span> </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, input) </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">#round up the proportions  </span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>table_ita<span class="ot">&lt;-</span>ita_perctable70</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>table_ita<span class="sc">$</span>input<span class="ot">&lt;-</span><span class="fu">round</span>(table_ita<span class="sc">$</span>input, <span class="at">digits =</span> <span class="dv">1</span>) </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>table_es<span class="ot">&lt;-</span>es_perctable70</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>table_es<span class="sc">$</span>input<span class="ot">&lt;-</span><span class="fu">round</span>(table_es<span class="sc">$</span>input, <span class="at">digits =</span> <span class="dv">1</span>) </span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co">#Step 3</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>table_ita <span class="sc">%&gt;%</span> </span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">booktabs =</span> <span class="cn">TRUE</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"% Causal uses - Italian"</span>, <span class="fu">paste0</span>(<span class="st">"70 years periods"</span>, <span class="fu">footnote_marker_symbol</span>(<span class="dv">1</span>))), <span class="at">escape =</span> F, <span class="at">caption =</span> <span class="st">"Input table for the VNC"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()  <span class="sc">%&gt;%</span> </span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">footnote</span>(<span class="at">symbol =</span> <span class="st">"Periods are indicated with the central years in the 70 years span, i.e. 1175 stands for the period between 1140 and 1210"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Input table for the VNC</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">% Causal uses - Italian</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">70 years periods<sup>*</sup></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1235</td>
<td style="text-align: right;">61.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">1305</td>
<td style="text-align: right;">63.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1375</td>
<td style="text-align: right;">63.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">1445</td>
<td style="text-align: right;">70.6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1515</td>
<td style="text-align: right;">73.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">1585</td>
<td style="text-align: right;">67.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1655</td>
<td style="text-align: right;">61.4</td>
</tr>
<tr class="even">
<td style="text-align: left;">1725</td>
<td style="text-align: right;">66.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1795</td>
<td style="text-align: right;">63.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">1865</td>
<td style="text-align: right;">61.8</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1935</td>
<td style="text-align: right;">60.4</td>
</tr>
</tbody><tfoot>
<tr class="even">
<td style="text-align: left; padding: 0;"><sup>*</sup> Periods are indicated with the central years in the 70 years span, i.e. 1175 stands for the period between 1140 and 1210</td>
<td style="text-align: right;"></td>
</tr>
</tfoot>

</table>


</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>table_es <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">booktabs =</span> <span class="cn">TRUE</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"% Causal uses - Spanish"</span>, <span class="fu">paste0</span>(<span class="st">"70 years periods"</span>, <span class="fu">footnote_marker_symbol</span>(<span class="dv">1</span>))), <span class="at">escape =</span> F, <span class="at">caption =</span> <span class="st">"Input table for the VNC"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()  <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">footnote</span>(<span class="at">symbol =</span> <span class="st">"Periods are indicated with the central years in the 70 years span, i.e. 1175 stands for the period between 1140 and 1210"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Input table for the VNC</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">% Causal uses - Spanish</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">70 years periods<sup>*</sup></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1175</td>
<td style="text-align: right;">57.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">1245</td>
<td style="text-align: right;">53.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1315</td>
<td style="text-align: right;">58.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">1385</td>
<td style="text-align: right;">73.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1455</td>
<td style="text-align: right;">56.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">1525</td>
<td style="text-align: right;">56.6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1595</td>
<td style="text-align: right;">55.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">1665</td>
<td style="text-align: right;">62.8</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1735</td>
<td style="text-align: right;">49.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">1805</td>
<td style="text-align: right;">51.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1875</td>
<td style="text-align: right;">50.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">1945</td>
<td style="text-align: right;">52.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1990</td>
<td style="text-align: right;">57.6</td>
</tr>
</tbody><tfoot>
<tr class="even">
<td style="text-align: left; padding: 0;"><sup>*</sup> Periods are indicated with the central years in the 70 years span, i.e. 1175 stands for the period between 1140 and 1210</td>
<td style="text-align: right;"></td>
</tr>
</tfoot>

</table>


</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setcolorder</span> (table_es, <span class="fu">c</span>(<span class="st">"input"</span>, <span class="st">"year"</span>))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(table_es, <span class="at">file =</span> <span class="st">"esp_vnc_caus_70y_p.txt"</span>, <span class="at">sep =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>, <span class="at">quote =</span> <span class="cn">FALSE</span>, <span class="at">row.names =</span> F)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">setcolorder</span> (table_ita, <span class="fu">c</span>(<span class="st">"input"</span>, <span class="st">"year"</span>))</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(table_ita, <span class="at">file =</span> <span class="st">"ita_vnc_caus_70y_p.txt"</span>, <span class="at">sep =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>, <span class="at">quote =</span> <span class="cn">FALSE</span>, <span class="at">row.names =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Step 4: enter vnc.individual(file.choose()) and, when prompted to choose/enter a file name, choose/enter the path to the file with the data to be analyzed on the harddrive (e.g.&nbsp;newdata.txt). Run this in a separate R script and follow the instructions on the console.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#do not run</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"vnc.individual.RData"</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fu">vtxtnc.individual</span>(<span class="st">"esp_vnc_caus_70y_p.txt"</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"VNC/vnc.individual.RData"</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="fu">vnc.individual</span>(<span class="st">"VNC/ita_vnc_caus_70y.txt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Running the previous script will generate two graphs in separate windows: a dendrogram and a screeplot of the type shown below.</p>
<p>The dendogram specifies how periods are clustered (the periods that are the most similar are amalgamated first). The analyst should asses how many development stages are considered relevant to the diachronic study. The screeplot produced by the VNC function allows the linguist to decide by comparing the distances between successive mergers (measured with standard deviations). Essentially, one should observe the slope from left to right, and take the number of clusters with the largest differences, until the slope is leveled off (i.e., until the difference between clusters is marginal). In this case 4 or 6 clusters seems adequate. Given that we want to minimise data sparsity, we make the most parsimonious choice and select the first 4 clusters.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Ita_VNC_plots.jpg" class="img-fluid figure-img"></p>
<figcaption>Dendogram and Scree plot Italian</figcaption>
</figure>
</div>
<p><img src="Es_VNC_plots.jpg" class="img-fluid" alt="Dendogram and Screeplot Spanish"> From the interpretation of the VNC results we end up with 4 significant periods for the development of the causal vs.&nbsp;non causal alternation in Spanish, dividing our dataset in the following periods: 1140-1209,1210-1279, 1280-1559, 1560-2001. Data are distributed across periods as summarised below. In Spanish causal uses are consistently higher than noncausal ones, but always below 60% except in the second period where they reach 73%.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>esp<span class="ot">&lt;-</span>esp <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">es_vnc70_apr25=</span><span class="fu">case_when</span>(</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1350</span> <span class="sc">~</span> <span class="st">"1140-1349"</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1420</span> <span class="sc">~</span> <span class="st">"1350-1419"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1700</span> <span class="sc">~</span> <span class="st">"1420-1699"</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">2002</span> <span class="sc">~</span> <span class="st">"1700-2001"</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>summary_es<span class="ot">&lt;-</span>esp <span class="sc">%&gt;%</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span> (es_vnc70_apr25, semantics) <span class="sc">%&gt;%</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span> (<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rel.freq =</span> <span class="fu">paste0</span>(<span class="fu">round</span>(<span class="dv">100</span> <span class="sc">*</span> n<span class="sc">/</span><span class="fu">sum</span>(n), <span class="dv">0</span>), <span class="st">"%"</span>))</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>summary_es <span class="sc">%&gt;%</span>  <span class="fu">kbl</span>(<span class="at">booktabs =</span> <span class="cn">TRUE</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"VNC periods"</span>, <span class="st">"Semantics"</span>, <span class="st">"Count"</span>, <span class="st">"Relative Frequency (%)"</span>), <span class="at">caption =</span> <span class="st">"Spanish - Summary of the verb semantics by VNC periods"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>   <span class="fu">collapse_rows</span>(<span class="at">column =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Spanish - Summary of the verb semantics by VNC periods</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">VNC periods</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Semantics</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Count</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Relative Frequency (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: middle !important;">1140-1349</td>
<td style="text-align: left;">caus</td>
<td style="text-align: right;">434</td>
<td style="text-align: left;">55%</td>
</tr>
<tr class="even">
<td style="text-align: left;">noncaus</td>
<td style="text-align: right;">348</td>
<td style="text-align: left;">45%</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: middle !important;">1350-1419</td>
<td style="text-align: left;">caus</td>
<td style="text-align: right;">92</td>
<td style="text-align: left;">73%</td>
</tr>
<tr class="even">
<td style="text-align: left;">noncaus</td>
<td style="text-align: right;">34</td>
<td style="text-align: left;">27%</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: middle !important;">1420-1699</td>
<td style="text-align: left;">caus</td>
<td style="text-align: right;">1367</td>
<td style="text-align: left;">57%</td>
</tr>
<tr class="even">
<td style="text-align: left;">noncaus</td>
<td style="text-align: right;">1044</td>
<td style="text-align: left;">43%</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: middle !important;">1700-2001</td>
<td style="text-align: left;">caus</td>
<td style="text-align: right;">1653</td>
<td style="text-align: left;">52%</td>
</tr>
<tr class="even">
<td style="text-align: left;">noncaus</td>
<td style="text-align: right;">1523</td>
<td style="text-align: left;">48%</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>For Italian, the relevant 4 periods indicated by the dendogram are 1200-1409, 1410-1549, 1550-1619 and 1620-1968, Data are distributed across periods as summarised below. In Italian, causal uses are consistently more frequent than non causal ones, always higher than 60%. Their relative frequency is at the highest in the second period, when they reach 73%, like in Spanish. However, the second VNC period in Italian is about a century later than in Spanish.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>ita<span class="ot">&lt;-</span>ita <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">ita_vnc70_apr25=</span><span class="fu">case_when</span>(</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1410</span> <span class="sc">~</span> <span class="st">"1200-1409"</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1550</span> <span class="sc">~</span> <span class="st">"1410-1549"</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;</span><span class="dv">1620</span> <span class="sc">~</span> <span class="st">"1550-1619"</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>      year<span class="sc">&lt;=</span><span class="dv">1970</span> <span class="sc">~</span> <span class="st">"1620-1968"</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>summary_ita<span class="ot">&lt;-</span>ita <span class="sc">%&gt;%</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span> (ita_vnc70_apr25, semantics) <span class="sc">%&gt;%</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span> (<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rel.freq =</span> <span class="fu">paste0</span>(<span class="fu">round</span>(<span class="dv">100</span> <span class="sc">*</span> n<span class="sc">/</span><span class="fu">sum</span>(n), <span class="dv">0</span>), <span class="st">"%"</span>))</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>summary_ita <span class="sc">%&gt;%</span>  <span class="fu">kbl</span>(<span class="at">booktabs =</span> <span class="cn">TRUE</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"VNC periods"</span>, <span class="st">"Semantics"</span>, <span class="st">"Count"</span>, <span class="st">"Relative Frequency (%)"</span>), <span class="at">caption =</span> <span class="st">"Italian - Summary of the verb semantics by VNC periods"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>   <span class="fu">collapse_rows</span>(<span class="at">column =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Italian - Summary of the verb semantics by VNC periods</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">VNC periods</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Semantics</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Count</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Relative Frequency (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: middle !important;">1200-1409</td>
<td style="text-align: left;">caus</td>
<td style="text-align: right;">768</td>
<td style="text-align: left;">64%</td>
</tr>
<tr class="even">
<td style="text-align: left;">noncaus</td>
<td style="text-align: right;">441</td>
<td style="text-align: left;">36%</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: middle !important;">1410-1549</td>
<td style="text-align: left;">caus</td>
<td style="text-align: right;">1135</td>
<td style="text-align: left;">73%</td>
</tr>
<tr class="even">
<td style="text-align: left;">noncaus</td>
<td style="text-align: right;">421</td>
<td style="text-align: left;">27%</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: middle !important;">1550-1619</td>
<td style="text-align: left;">caus</td>
<td style="text-align: right;">695</td>
<td style="text-align: left;">67%</td>
</tr>
<tr class="even">
<td style="text-align: left;">noncaus</td>
<td style="text-align: right;">335</td>
<td style="text-align: left;">33%</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: middle !important;">1620-1968</td>
<td style="text-align: left;">caus</td>
<td style="text-align: right;">2700</td>
<td style="text-align: left;">62%</td>
</tr>
<tr class="even">
<td style="text-align: left;">noncaus</td>
<td style="text-align: right;">1635</td>
<td style="text-align: left;">38%</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
</section>
<section id="calculate-the-causalness-degree" class="level2">
<h2 class="anchored" data-anchor-id="calculate-the-causalness-degree">Calculate the <code>Causalness Degree</code></h2>
<p>Once we found out the significant periods for the causal/non causal alternation, we calculate the share of causal uses by verb lemma and by period. Namely, every verb lemma in each of the four periods is assigned a number between 0 and 1, indicating the proportion (%) of causal uses <em>vs.</em> non causal uses. The table below summarises the distribution of causal uses by lemma and period (variable <em>caus_use</em>).</p>
<p>Italian:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>caus_use_ita<span class="ot">&lt;-</span>ita <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span> (ita_vnc70_apr25, lemma, semantics) <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span> (<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">caus_use_ita_apr25 =</span> n<span class="sc">/</span><span class="fu">sum</span>(n))</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>caus_use_ita<span class="ot">&lt;-</span>caus_use_ita <span class="sc">%&gt;%</span> <span class="fu">filter</span>(semantics<span class="sc">==</span><span class="st">"caus"</span>) <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> <span class="fu">select</span> (<span class="sc">-</span>semantics)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>caus_use_ita <span class="sc">%&gt;%</span> DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">rownames=</span>F, <span class="at">filter=</span><span class="st">"top"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-1d5bbbeb92dcaee3b862" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1d5bbbeb92dcaee3b862">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1\" data-max=\"248\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.09375\" data-max=\"1\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1200-1409","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1410-1549","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1550-1619","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968","1620-1968"],["affondare","alzare","aprire","ardere","arrestare","bollire","bruciare","chiudere","congelare","dividere","empiere","fermare","fondere","girare","migliorare","radunare","riempire","rompere","sciogliere","seccare","separare","sollevare","spegnere","svegliare","unire","affondare","alzare","aprire","ardere","arrestare","bollire","bruciare","chiudere","congelare","dividere","empiere","fermare","fondere","ghiacciare","girare","migliorare","radunare","riempire","rompere","sciogliere","seccare","separare","sollevare","spegnere","svegliare","unire","affondare","alzare","aprire","ardere","arrestare","bollire","bruciare","chiudere","congelare","dividere","empiere","fermare","gelare","girare","migliorare","radunare","riempire","rompere","sciogliere","seccare","separare","sollevare","spegnere","svegliare","unire","affondare","alzare","ammucchiare","aprire","ardere","arrestare","bollire","bruciare","chiudere","congelare","dividere","dondolare","empiere","fermare","fondere","gelare","ghiacciare","girare","migliorare","oscillare","radunare","riempire","rompere","sciogliere","seccare","separare","sollevare","spegnere","svegliare","unire"],[1,23,62,64,1,36,1,31,1,72,22,92,14,17,10,111,15,79,31,12,4,5,45,9,10,1,72,88,93,11,11,7,66,4,131,76,44,5,1,24,5,55,22,149,69,8,18,13,123,17,22,1,57,76,37,9,1,3,40,2,67,29,26,3,22,7,23,15,53,75,1,15,53,33,7,40,4,197,5,209,51,71,15,49,248,1,222,6,97,71,10,13,1,69,69,3,39,101,164,238,4,114,230,130,77,192],[0.125,0.8214285714285714,0.8857142857142857,0.5161290322580645,0.1111111111111111,0.7659574468085106,1,0.6739130434782609,0.3333333333333333,0.7826086956521739,0.9166666666666666,0.8,0.8235294117647058,0.1125827814569536,0.7692307692307693,0.6032608695652174,0.8333333333333334,0.8586956521739131,0.9393939393939394,0.7058823529411765,0.8,1,0.6716417910447762,0.375,0.8333333333333334,0.5,0.8181818181818182,0.8543689320388349,0.4946808510638298,0.7857142857142857,0.6875,0.875,0.8148148148148148,1,0.903448275862069,0.9156626506024096,0.4888888888888889,0.8333333333333334,0.25,0.4137931034482759,0.4545454545454545,0.5851063829787234,0.8148148148148148,0.9030303030303031,0.9078947368421053,0.4705882352941176,0.75,0.65,0.7784810126582279,0.5483870967741935,0.5789473684210527,0.3333333333333333,0.6404494382022472,0.9620253164556962,0.3557692307692308,0.5625,0.2,0.5,0.9090909090909091,0.5,0.8271604938271605,0.8529411764705882,0.4262295081967213,0.5,0.4150943396226415,0.6363636363636364,0.6052631578947368,0.8823529411764706,0.8983050847457628,0.9259259259259259,0.1666666666666667,0.5555555555555556,0.7464788732394366,0.8918918918918919,0.4666666666666667,0.5128205128205128,0.16,0.5596590909090909,0.8333333333333334,0.7946768060836502,0.3722627737226277,0.4057142857142857,0.4166666666666667,0.620253164556962,0.8671328671328671,0.5,0.8131868131868132,0.2222222222222222,0.8584070796460177,0.27734375,0.2857142857142857,0.2954545454545455,1,0.3209302325581395,0.75,0.09375,0.3513513513513514,0.8859649122807017,0.8241206030150754,0.780327868852459,0.3636363636363636,0.6745562130177515,0.7692307692307693,0.6878306878306878,0.5579710144927537,0.5470085470085471]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>ita_vnc70_apr25<\/th>\n      <th>lemma<\/th>\n      <th>n<\/th>\n      <th>caus_use_ita_apr25<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3]},{"name":"ita_vnc70_apr25","targets":0},{"name":"lemma","targets":1},{"name":"n","targets":2},{"name":"caus_use_ita_apr25","targets":3}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Spanish:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>caus_use_es <span class="ot">&lt;-</span>esp <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span> (es_vnc70_apr25, lemma, semantics) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span> (<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">caus_use_es_apr25 =</span> n<span class="sc">/</span><span class="fu">sum</span>(n))</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>caus_use_es<span class="ot">&lt;-</span>caus_use_es <span class="sc">%&gt;%</span> <span class="fu">filter</span>(semantics<span class="sc">==</span><span class="st">"caus"</span>) <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> <span class="fu">select</span> (<span class="sc">-</span>semantics)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>caus_use_es <span class="sc">%&gt;%</span> DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">rownames=</span>F, <span class="at">filter=</span><span class="st">"top"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-6d45a618e0139f80029e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6d45a618e0139f80029e">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1\" data-max=\"186\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.083333333333333\" data-max=\"1\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["1140-1349","1140-1349","1140-1349","1140-1349","1140-1349","1140-1349","1140-1349","1140-1349","1140-1349","1140-1349","1140-1349","1140-1349","1140-1349","1140-1349","1140-1349","1140-1349","1350-1419","1350-1419","1350-1419","1350-1419","1350-1419","1350-1419","1350-1419","1350-1419","1350-1419","1350-1419","1350-1419","1350-1419","1350-1419","1350-1419","1350-1419","1350-1419","1350-1419","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1420-1699","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001","1700-2001"],["abrir","alzar","apagar","cerrar","derretir","despertar","fundir","hervir","juntar","levantar","llenar","mejorar","parar","quemar","romper","secar","abrir","alzar","apagar","cerrar","congelar","derretir","despertar","fundir","girar","hervir","juntar","mejorar","parar","quemar","romper","secar","separar","abrir","alzar","apagar","cerrar","congelar","derretir","despertar","fundir","girar","hervir","hundir","juntar","levantar","llenar","mejorar","parar","quemar","romper","secar","separar","abrir","alzar","apagar","cerrar","conectar","congelar","derretir","despertar","fundir","girar","hervir","hundir","juntar","levantar","llenar","mejorar","oscilar","parar","quemar","romper","secar","separar"],[49,72,2,25,8,13,11,11,8,11,1,35,67,94,14,13,1,14,7,6,4,1,2,1,2,3,2,1,9,27,8,1,3,132,165,54,106,14,70,102,17,15,38,12,133,84,7,47,50,166,122,27,6,186,71,175,142,24,7,40,107,10,115,17,57,29,92,110,79,9,6,42,103,48,184],[0.9074074074074074,0.5901639344262295,1,0.8064516129032258,1,0.5416666666666666,0.7857142857142857,0.44,0.6666666666666666,0.180327868852459,1,0.2287581699346405,0.5775862068965517,0.8703703703703703,0.7777777777777778,0.4333333333333333,0.5,0.7777777777777778,0.875,1,1,0.5,0.2857142857142857,1,0.4,1,0.5,0.1666666666666667,0.8181818181818182,0.9310344827586207,1,0.2,1,0.9295774647887324,0.8088235294117647,0.7012987012987013,0.9217391304347826,0.4242424242424243,0.5737704918032787,0.5368421052631579,0.5862068965517241,0.5,0.2043010752688172,0.2448979591836735,0.4539249146757679,0.3783783783783784,0.7,0.5402298850574713,0.3472222222222222,0.7867298578199052,0.7721518987341772,0.2621359223300971,1,0.8732394366197183,0.6761904761904762,0.6013745704467354,0.8875,0.8275862068965517,0.28,0.3539823008849557,0.4953703703703703,0.2941176470588235,0.2738095238095238,0.1259259259259259,0.3630573248407643,0.5272727272727272,0.5348837209302325,0.7971014492753623,0.6220472440944882,0.08333333333333333,0.1363636363636364,0.711864406779661,0.6645161290322581,0.6233766233766234,0.5364431486880467]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>es_vnc70_apr25<\/th>\n      <th>lemma<\/th>\n      <th>n<\/th>\n      <th>caus_use_es_apr25<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3]},{"name":"es_vnc70_apr25","targets":0},{"name":"lemma","targets":1},{"name":"n","targets":2},{"name":"caus_use_es_apr25","targets":3}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>And finally rejoin the individual languages new information (<code>period70, vnc and causalness degree</code>) to the main dataset:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Join caus_use_ita to ita by vnc and lemma</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>ita <span class="ot">&lt;-</span> ita <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(caus_use_ita, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ita_vnc70_apr25"</span> <span class="ot">=</span> <span class="st">"ita_vnc70_apr25"</span>, <span class="st">"lemma"</span> <span class="ot">=</span> <span class="st">"lemma"</span>))</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Join caus_use_es to esp by vnc and lemma</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>esp <span class="ot">&lt;-</span> esp <span class="sc">%&gt;%</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(caus_use_es, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"es_vnc70_apr25"</span> <span class="ot">=</span> <span class="st">"es_vnc70_apr25"</span>, <span class="st">"lemma"</span> <span class="ot">=</span> <span class="st">"lemma"</span>))</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Rename columns to match target names before merging into romall</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>ita <span class="ot">&lt;-</span> ita <span class="sc">%&gt;%</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">vnc_period_apr25 =</span> ita_vnc70_apr25,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">causalness_degree_apr25 =</span> caus_use_ita_apr25</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>esp <span class="ot">&lt;-</span> esp <span class="sc">%&gt;%</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">vnc_period_apr25 =</span> es_vnc70_apr25,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">causalness_degree_apr25 =</span> caus_use_es_apr25</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Bind the two enriched subsets together</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>combined <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(ita, esp)</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. Join back to romall by id and lemma</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>romall <span class="ot">&lt;-</span> romall <span class="sc">%&gt;%</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(combined <span class="sc">%&gt;%</span> <span class="fu">select</span>(id, lemma, vnc_period_apr25, causalness_degree_apr25),</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span>, <span class="st">"lemma"</span>))</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>nc <span class="ot">&lt;-</span> nc <span class="sc">%&gt;%</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(combined <span class="sc">%&gt;%</span> <span class="fu">select</span>(id, lemma, vnc_period_apr25, causalness_degree_apr25),</span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span>, <span class="st">"lemma"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#only run this if you want to save the results of the VNC in a new xlsx file</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>openxlsx<span class="sc">::</span><span class="fu">write.xlsx</span>(romall, <span class="st">"romall_new_VNC.xlsx"</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>openxlsx<span class="sc">::</span><span class="fu">write.xlsx</span>(nc, <span class="st">"noncaus_new_VNC.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="diachronic-analysis-of-the-noncausal-usage-and-causalness-degree-correlation" class="level2">
<h2 class="anchored" data-anchor-id="diachronic-analysis-of-the-noncausal-usage-and-causalness-degree-correlation">Diachronic analysis of the noncausal usage and causalness degree correlation</h2>
<p>After calculating the diachronic causalness degree, we follow the procedure outlined in Heidinger (2015). For each verb in the two languages, we measure its correlation with the percentage of anticausative marking, iterating the count separately for each of the four periods. The results are shown in Figure 6 and Figure 7:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="do">##Calculate causalness degree by language and period</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>caus_degree_ita <span class="ot">&lt;-</span> romall <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (language <span class="sc">==</span> <span class="st">'italian'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(meaning, vnc_period_apr25) <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">caus_degree =</span> <span class="fu">sum</span>(semantics <span class="sc">==</span> <span class="st">'caus'</span>) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">n</span>())</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>caus_degree_es <span class="ot">&lt;-</span> romall <span class="sc">%&gt;%</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (language <span class="sc">==</span> <span class="st">'spanish'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(meaning, vnc_period_apr25) <span class="sc">%&gt;%</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">caus_degree =</span> <span class="fu">sum</span>(semantics <span class="sc">==</span> <span class="st">'caus'</span>) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">n</span>())</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="do">##Calculate percentage of anticausative marking by language and period</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>coding_percentages_ita <span class="ot">&lt;-</span> romall <span class="sc">%&gt;%</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(meaning, semantics, coding, vnc_period_apr25) <span class="sc">%&gt;%</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (language <span class="sc">==</span> <span class="st">'italian'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(coding, count, <span class="at">fill =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">caus_degree_vs_zero =</span> caus <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> (caus <span class="sc">+</span> zero),</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">prop_antic_vs_zero =</span> antic <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> (antic <span class="sc">+</span> zero))</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>coding_percentages_es <span class="ot">&lt;-</span> romall <span class="sc">%&gt;%</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(meaning, semantics, coding, vnc_period_apr25) <span class="sc">%&gt;%</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (language <span class="sc">==</span> <span class="st">'spanish'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(coding, count, <span class="at">fill =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">caus_degree_vs_zero =</span> caus <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> (caus <span class="sc">+</span> zero),</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">prop_antic_vs_zero =</span> antic <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> (antic <span class="sc">+</span> zero))</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a><span class="do">##Scatter Plot of correlations between causalness degree and anticausative marking by period and language</span></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>merged_data_ita <span class="ot">&lt;-</span> <span class="fu">merge</span>(caus_degree_ita, coding_percentages_ita, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"meaning"</span>, <span class="st">"vnc_period_apr25"</span>))</span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>merged_data_ita_noncaus <span class="ot">&lt;-</span> merged_data_ita <span class="sc">%&gt;%</span></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(semantics <span class="sc">==</span> <span class="st">'noncaus'</span>)</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>merged_data_ita_noncaus_1 <span class="ot">&lt;-</span> merged_data_ita_noncaus <span class="sc">%&gt;%</span></span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vnc_period_apr25 <span class="sc">==</span> <span class="st">'1200-1409'</span>)</span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>merged_data_ita_noncaus_2 <span class="ot">&lt;-</span> merged_data_ita_noncaus <span class="sc">%&gt;%</span></span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vnc_period_apr25 <span class="sc">==</span> <span class="st">'1410-1549'</span>)</span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>merged_data_ita_noncaus_3 <span class="ot">&lt;-</span> merged_data_ita_noncaus <span class="sc">%&gt;%</span></span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vnc_period_apr25 <span class="sc">==</span> <span class="st">'1550-1619'</span>)</span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>merged_data_ita_noncaus_4 <span class="ot">&lt;-</span> merged_data_ita_noncaus <span class="sc">%&gt;%</span></span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vnc_period_apr25 <span class="sc">==</span> <span class="st">'1620-1968'</span>)</span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>merged_data_es <span class="ot">&lt;-</span> <span class="fu">merge</span>(caus_degree_es, coding_percentages_es, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"meaning"</span>, <span class="st">"vnc_period_apr25"</span>))</span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>merged_data_es_noncaus <span class="ot">&lt;-</span> merged_data_es <span class="sc">%&gt;%</span></span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(semantics <span class="sc">==</span> <span class="st">'noncaus'</span>)</span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a>merged_data_es_noncaus_1 <span class="ot">&lt;-</span> merged_data_es_noncaus <span class="sc">%&gt;%</span></span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vnc_period_apr25 <span class="sc">==</span> <span class="st">'1140-1349'</span>)</span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a>merged_data_es_noncaus_2 <span class="ot">&lt;-</span> merged_data_es_noncaus <span class="sc">%&gt;%</span></span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vnc_period_apr25 <span class="sc">==</span> <span class="st">'1350-1419'</span>)</span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a>merged_data_es_noncaus_3 <span class="ot">&lt;-</span> merged_data_es_noncaus <span class="sc">%&gt;%</span></span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vnc_period_apr25 <span class="sc">==</span> <span class="st">'1420-1699'</span>)</span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a>merged_data_es_noncaus_4 <span class="ot">&lt;-</span> merged_data_es_noncaus <span class="sc">%&gt;%</span></span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vnc_period_apr25 <span class="sc">==</span> <span class="st">'1700-2001'</span>)</span>
<span id="cb16-67"><a href="#cb16-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-68"><a href="#cb16-68" aria-hidden="true" tabindex="-1"></a>plot_ita_1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(merged_data_ita_noncaus_1, <span class="fu">aes</span>(<span class="at">x =</span> caus_degree, <span class="at">y =</span> prop_antic_vs_zero, <span class="at">label =</span> meaning)) <span class="sc">+</span></span>
<span id="cb16-69"><a href="#cb16-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-70"><a href="#cb16-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Causalness"</span>,</span>
<span id="cb16-71"><a href="#cb16-71" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"%anticausative"</span>, <span class="at">title =</span> <span class="st">"1200-1409"</span>) <span class="sc">+</span></span>
<span id="cb16-72"><a href="#cb16-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-73"><a href="#cb16-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb16-74"><a href="#cb16-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-75"><a href="#cb16-75" aria-hidden="true" tabindex="-1"></a>plot_ita_2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(merged_data_ita_noncaus_2, <span class="fu">aes</span>(<span class="at">x =</span> caus_degree, <span class="at">y =</span> prop_antic_vs_zero, <span class="at">label =</span> meaning)) <span class="sc">+</span></span>
<span id="cb16-76"><a href="#cb16-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-77"><a href="#cb16-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Causalness"</span>,</span>
<span id="cb16-78"><a href="#cb16-78" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"%anticausative"</span>, <span class="at">title =</span> <span class="st">"1410-1549"</span>) <span class="sc">+</span></span>
<span id="cb16-79"><a href="#cb16-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-80"><a href="#cb16-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb16-81"><a href="#cb16-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-82"><a href="#cb16-82" aria-hidden="true" tabindex="-1"></a>plot_ita_3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(merged_data_ita_noncaus_3, <span class="fu">aes</span>(<span class="at">x =</span> caus_degree, <span class="at">y =</span> prop_antic_vs_zero, <span class="at">label =</span> meaning)) <span class="sc">+</span></span>
<span id="cb16-83"><a href="#cb16-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-84"><a href="#cb16-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Causalness"</span>,</span>
<span id="cb16-85"><a href="#cb16-85" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"%anticausative"</span>, <span class="at">title =</span> <span class="st">"1420-1699"</span>) <span class="sc">+</span></span>
<span id="cb16-86"><a href="#cb16-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-87"><a href="#cb16-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb16-88"><a href="#cb16-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-89"><a href="#cb16-89" aria-hidden="true" tabindex="-1"></a>plot_ita_4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(merged_data_ita_noncaus_4, <span class="fu">aes</span>(<span class="at">x =</span> caus_degree, <span class="at">y =</span> prop_antic_vs_zero, <span class="at">label =</span> meaning)) <span class="sc">+</span></span>
<span id="cb16-90"><a href="#cb16-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-91"><a href="#cb16-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Causalness"</span>,</span>
<span id="cb16-92"><a href="#cb16-92" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"%anticausative"</span>, <span class="at">title =</span> <span class="st">"1700-2001"</span>) <span class="sc">+</span></span>
<span id="cb16-93"><a href="#cb16-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-94"><a href="#cb16-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb16-95"><a href="#cb16-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-96"><a href="#cb16-96" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb16-97"><a href="#cb16-97" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(plot_ita_1, plot_ita_2, plot_ita_3, plot_ita_4, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>,  <span class="at">top =</span> <span class="st">"Italian Correlation Plot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="causal_freq_full_code_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="do">##Script for Figure 7</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>plot_es_1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(merged_data_es_noncaus_1, <span class="fu">aes</span>(<span class="at">x =</span> caus_degree, <span class="at">y =</span> prop_antic_vs_zero, <span class="at">label =</span> meaning)) <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Causalness"</span>,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"%anticausative"</span>, <span class="at">title =</span> <span class="st">"1140-1349"</span>) <span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>plot_es_2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(merged_data_es_noncaus_2, <span class="fu">aes</span>(<span class="at">x =</span> caus_degree, <span class="at">y =</span> prop_antic_vs_zero, <span class="at">label =</span> meaning)) <span class="sc">+</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Causalness"</span>,</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"%anticausative"</span>, <span class="at">title =</span> <span class="st">"1350-1419"</span>) <span class="sc">+</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>plot_es_3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(merged_data_es_noncaus_3, <span class="fu">aes</span>(<span class="at">x =</span> caus_degree, <span class="at">y =</span> prop_antic_vs_zero, <span class="at">label =</span> meaning)) <span class="sc">+</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Causalness"</span>,</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"%anticausative"</span>, <span class="at">title =</span> <span class="st">"1420-1699"</span>) <span class="sc">+</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>plot_es_4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(merged_data_es_noncaus_4, <span class="fu">aes</span>(<span class="at">x =</span> caus_degree, <span class="at">y =</span> prop_antic_vs_zero, <span class="at">label =</span> meaning)) <span class="sc">+</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Causalness"</span>,</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"%anticausative"</span>, <span class="at">title =</span> <span class="st">"1700-2001"</span>) <span class="sc">+</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(plot_es_1, plot_es_2, plot_es_3, plot_es_4, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>,  <span class="at">top =</span> <span class="st">"Spanish Correlation Plot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="causal_freq_full_code_files/figure-html/unnamed-chunk-14-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The corresponding correlation measures (Spearman Correlation Coefficient, SCC), alongside with p-values and the number of tokens analyzed for each period are given in the tables below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Function to format the p-values</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>format_pval <span class="ot">&lt;-</span> <span class="cf">function</span>(p) {</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">case_when</span>(</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    p <span class="sc">&lt;</span> <span class="fl">0.001</span> <span class="sc">~</span> <span class="st">"&lt; 0.001***"</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    p <span class="sc">&lt;</span> <span class="fl">0.01</span>  <span class="sc">~</span> <span class="st">"&lt; 0.01**"</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    p <span class="sc">&lt;</span> <span class="fl">0.05</span>  <span class="sc">~</span> <span class="st">"&lt; 0.05*"</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span>      <span class="sc">~</span> <span class="fu">paste0</span>(<span class="st">"= "</span>, <span class="fu">round</span>(p, <span class="dv">2</span>))</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Italian</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="do">## Individual periods datasets for Italian</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>datasets <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">Period1 =</span> merged_data_ita_noncaus_1,</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">Period2 =</span> merged_data_ita_noncaus_2,</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">Period3 =</span> merged_data_ita_noncaus_3,</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">Period4 =</span> merged_data_ita_noncaus_4</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a><span class="do">## Make a dataframe with the Spearman correlation and p-values</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>cor_table_ita <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">imap_dfr</span>(datasets, <span class="cf">function</span>(df, period) {</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>  test_result <span class="ot">&lt;-</span> <span class="fu">cor.test</span>(df<span class="sc">$</span>caus_degree, df<span class="sc">$</span>prop_antic_vs_zero, <span class="at">method =</span> <span class="st">"spearman"</span>, <span class="at">exact =</span> <span class="cn">FALSE</span>)</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">Period =</span> period,</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">Spearman_Correlation =</span> <span class="fu">round</span>(test_result<span class="sc">$</span>estimate, <span class="dv">2</span>),</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">P_value =</span> <span class="fu">format_pval</span>(test_result<span class="sc">$</span>p.value)</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a><span class="do">## Show with kableExtra</span></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>cor_table_ita <span class="sc">%&gt;%</span></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"Italian - Spearman Correlation Between Causalness Degree and Anticausative Usage by Period"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<caption>Italian - Spearman Correlation Between Causalness Degree and Anticausative Usage by Period</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Period</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Spearman_Correlation</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">P_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Period1</td>
<td style="text-align: right;">0.28</td>
<td style="text-align: left;">= 0.24</td>
</tr>
<tr class="even">
<td style="text-align: left;">Period2</td>
<td style="text-align: right;">0.79</td>
<td style="text-align: left;">&lt; 0.001***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Period3</td>
<td style="text-align: right;">0.58</td>
<td style="text-align: left;">&lt; 0.01**</td>
</tr>
<tr class="even">
<td style="text-align: left;">Period4</td>
<td style="text-align: right;">0.59</td>
<td style="text-align: left;">&lt; 0.01**</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Spanish</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Individual periods datasets for Italian</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>datasets_es <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Period1 =</span> merged_data_es_noncaus_1,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Period2 =</span> merged_data_es_noncaus_2,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Period3 =</span> merged_data_es_noncaus_3,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Period4 =</span> merged_data_es_noncaus_4</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Make a dataframe with the Spearman correlation and p-values</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>cor_table_es <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">imap_dfr</span>(datasets_es, <span class="cf">function</span>(df, period) {</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  test_result <span class="ot">&lt;-</span> <span class="fu">cor.test</span>(df<span class="sc">$</span>caus_degree, df<span class="sc">$</span>prop_antic_vs_zero, <span class="at">method =</span> <span class="st">"spearman"</span>, <span class="at">exact =</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">Period =</span> period,</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">Spearman_Correlation =</span> <span class="fu">round</span>(test_result<span class="sc">$</span>estimate, <span class="dv">2</span>),</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">P_value =</span> <span class="fu">format_pval</span>(test_result<span class="sc">$</span>p.value)</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="do">## Show with KableExtra</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>cor_table_es <span class="sc">%&gt;%</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"Spearman Correlation Between Causalness and Anticausative Usage by Period (Spanish)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<caption>Spearman Correlation Between Causalness and Anticausative Usage by Period (Spanish)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Period</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Spearman_Correlation</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">P_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Period1</td>
<td style="text-align: right;">0.36</td>
<td style="text-align: left;">= 0.22</td>
</tr>
<tr class="even">
<td style="text-align: left;">Period2</td>
<td style="text-align: right;">0.43</td>
<td style="text-align: left;">= 0.19</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Period3</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: left;">= 0.88</td>
</tr>
<tr class="even">
<td style="text-align: left;">Period4</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: left;">= 0.52</td>
</tr>
</tbody>
</table>


</div>
</div>
<section id="lexical-or-semantic-effects" class="level3">
<h3 class="anchored" data-anchor-id="lexical-or-semantic-effects">Lexical or semantic effects?</h3>
<p>The correlations discussed above are based on verb meaning, but we maintain that it is important to also discuss lemma-effects.</p>
<p>In particular, if the degree of causalness were a direct consequence of the degree of spontaneity of the event (Heidinger 2015), we would expect verbs that lexicalize the same event (and therefore presumably share the same degree of spontaneity) to have substantially the same causalness degree. We have verified whether this is the case by looking at the Italian data for period IV.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Calculate causal degree for Italian lemmas</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>caus_degree_ita_lemma <span class="ot">&lt;-</span> romall <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(language <span class="sc">==</span> <span class="st">"italian"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(lemma, vnc_period_apr25) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">caus_degree =</span> <span class="fu">sum</span>(semantics <span class="sc">==</span> <span class="st">"caus"</span>) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Calculate coding percentages</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>coding_percentages_ita_lemma <span class="ot">&lt;-</span> romall <span class="sc">%&gt;%</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(language <span class="sc">==</span> <span class="st">"italian"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(lemma, semantics, coding, vnc_period_apr25) <span class="sc">%&gt;%</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> coding, <span class="at">values_from =</span> count, <span class="at">values_fill =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">caus_degree_vs_zero =</span> caus <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> (caus <span class="sc">+</span> zero),</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">caus_degree_vs_zero =</span> antic <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> (antic <span class="sc">+</span> zero)</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Merge the datasets</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>merged_data_ita_lemma <span class="ot">&lt;-</span> <span class="fu">left_join</span>(</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  caus_degree_ita_lemma,</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  coding_percentages_ita_lemma,</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"lemma"</span>, <span class="st">"vnc_period_apr25"</span>)</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 4: Filter for noncausative semantics and specific time period</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>merged_data_ita_noncaus_4_lemma <span class="ot">&lt;-</span> merged_data_ita_lemma <span class="sc">%&gt;%</span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(semantics <span class="sc">==</span> <span class="st">"noncaus"</span>, vnc_period_apr25 <span class="sc">==</span> <span class="st">"1620-1968"</span>)</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 5: Create verb meaning groups</span></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>groupings <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">burn =</span> <span class="fu">c</span>(<span class="st">"ardere"</span>, <span class="st">"bruciare"</span>),</span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">"empiere"</span>, <span class="st">"riempire"</span>),</span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">melt =</span> <span class="fu">c</span>(<span class="st">"sciogliere"</span>, <span class="st">"fondere"</span>),</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">rise =</span> <span class="fu">c</span>(<span class="st">"alzare"</span>, <span class="st">"sollevare"</span>),</span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">rock =</span> <span class="fu">c</span>(<span class="st">"dondolare"</span>, <span class="st">"oscillare"</span>),</span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">split =</span> <span class="fu">c</span>(<span class="st">"dividere"</span>, <span class="st">"separare"</span>),</span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">stop =</span> <span class="fu">c</span>(<span class="st">"arrestare"</span>, <span class="st">"fermare"</span>)</span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign group labels</span></span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>merged_data_ita_noncaus_4_lemma <span class="ot">&lt;-</span> merged_data_ita_noncaus_4_lemma <span class="sc">%&gt;%</span></span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">map_chr</span>(lemma, <span class="cf">function</span>(l) {</span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a>    matched_group <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">keep</span>(groupings, <span class="sc">~</span> l <span class="sc">%in%</span> .x))</span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">length</span>(matched_group) <span class="sc">&gt;</span> <span class="dv">0</span>) matched_group <span class="cf">else</span> <span class="cn">NA_character_</span></span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a>  })) <span class="sc">%&gt;%</span></span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(group)) <span class="sc">%&gt;%</span></span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">factor</span>(group, <span class="at">levels =</span> <span class="fu">names</span>(groupings)))</span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 6: Plot</span></span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged_data_ita_noncaus_4_lemma, <span class="fu">aes</span>(</span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> caus_degree,</span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> caus_degree_vs_zero,</span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> lemma,</span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> group,</span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill =</span> group</span>
<span id="cb20-56"><a href="#cb20-56" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">+</span></span>
<span id="cb20-57"><a href="#cb20-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb20-58"><a href="#cb20-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(</span>
<span id="cb20-59"><a href="#cb20-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> merged_data_ita_noncaus_4_lemma <span class="sc">%&gt;%</span></span>
<span id="cb20-60"><a href="#cb20-60" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(lemma <span class="sc">%in%</span> <span class="fu">unlist</span>(groupings)),</span>
<span id="cb20-61"><a href="#cb20-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">color =</span> group),</span>
<span id="cb20-62"><a href="#cb20-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="fl">0.5</span>,</span>
<span id="cb20-63"><a href="#cb20-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>,</span>
<span id="cb20-64"><a href="#cb20-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">4</span></span>
<span id="cb20-65"><a href="#cb20-65" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb20-66"><a href="#cb20-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb20-67"><a href="#cb20-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Causalness"</span>,</span>
<span id="cb20-68"><a href="#cb20-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"% Anticausative"</span></span>
<span id="cb20-69"><a href="#cb20-69" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb20-70"><a href="#cb20-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb20-71"><a href="#cb20-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)) <span class="sc">+</span></span>
<span id="cb20-72"><a href="#cb20-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb20-73"><a href="#cb20-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Meaning"</span>,</span>
<span id="cb20-74"><a href="#cb20-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb20-75"><a href="#cb20-75" aria-hidden="true" tabindex="-1"></a>      <span class="at">burn =</span> <span class="st">"red"</span>, <span class="at">fill =</span> <span class="st">"blue"</span>, <span class="at">melt =</span> <span class="st">"purple"</span>, <span class="at">rise =</span> <span class="st">"brown"</span>,</span>
<span id="cb20-76"><a href="#cb20-76" aria-hidden="true" tabindex="-1"></a>      <span class="at">rock =</span> <span class="st">"green"</span>, <span class="at">split =</span> <span class="st">"cyan"</span>, <span class="at">stop =</span> <span class="st">"orange"</span></span>
<span id="cb20-77"><a href="#cb20-77" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-78"><a href="#cb20-78" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb20-79"><a href="#cb20-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb20-80"><a href="#cb20-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Meaning"</span>,</span>
<span id="cb20-81"><a href="#cb20-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb20-82"><a href="#cb20-82" aria-hidden="true" tabindex="-1"></a>      <span class="at">burn =</span> <span class="st">"red"</span>, <span class="at">fill =</span> <span class="st">"blue"</span>, <span class="at">melt =</span> <span class="st">"purple"</span>, <span class="at">rise =</span> <span class="st">"brown"</span>,</span>
<span id="cb20-83"><a href="#cb20-83" aria-hidden="true" tabindex="-1"></a>      <span class="at">rock =</span> <span class="st">"green"</span>, <span class="at">split =</span> <span class="st">"cyan"</span>, <span class="at">stop =</span> <span class="st">"orange"</span></span>
<span id="cb20-84"><a href="#cb20-84" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-85"><a href="#cb20-85" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb20-86"><a href="#cb20-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">shape =</span> <span class="dv">16</span>, <span class="at">size =</span> <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="causal_freq_full_code_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="part-ii-frequency-effects-of-causal-degree-on-anticausative-marking-over-time" class="level1">
<h1>Part II: Frequency effects of causal degree on anticausative marking over time</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># only non causal, verbs with categorical selection removed</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>ita_nc<span class="ot">&lt;-</span>nc <span class="sc">%&gt;%</span> <span class="fu">filter</span>(language<span class="sc">==</span><span class="st">"italian"</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>es_nc<span class="ot">&lt;-</span>nc <span class="sc">%&gt;%</span> <span class="fu">filter</span>(language<span class="sc">==</span><span class="st">"spanish"</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>ita_nc<span class="ot">&lt;-</span>ita_nc <span class="sc">%&gt;%</span> <span class="fu">select</span>(id, coding, meaning, lemma, vnc_period_apr25, causalness_degree_apr25)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>ita_nc<span class="ot">&lt;-</span>ita_nc <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">period=</span>vnc_period_apr25, <span class="at">causalness_degree=</span>causalness_degree_apr25)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>es_nc<span class="ot">&lt;-</span>es_nc <span class="sc">%&gt;%</span> <span class="fu">select</span>(id, coding, meaning, lemma, vnc_period_apr25, causalness_degree_apr25)</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>es_nc<span class="ot">&lt;-</span>es_nc <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">period=</span>vnc_period_apr25, <span class="at">causalness_degree=</span>causalness_degree_apr25)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="italian-data-prepare-for-beta-regression" class="level2">
<h2 class="anchored" data-anchor-id="italian-data-prepare-for-beta-regression">Italian data: prepare for Beta Regression</h2>
<p>Subset the Italian data to obtain unique combinations of lemma and period.</p>
<ul>
<li>Step 1: Aggregate data to calculate the proportion of anticausative codings</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>ita_agg <span class="ot">&lt;-</span> ita_nc <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(lemma, period) <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">anticausative_count =</span> <span class="fu">sum</span>(coding <span class="sc">==</span> <span class="st">"antic"</span>),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_count =</span> <span class="fu">n</span>(),</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">proportion_anticausative =</span> anticausative_count <span class="sc">/</span> total_count,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">causalness_degree =</span> <span class="fu">first</span>(causalness_degree),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Step 2: Create a lagged causalness_degree variable</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>ita_agg <span class="ot">&lt;-</span> ita_agg <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(lemma, period) <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(lemma) <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">causalness_lagged =</span> <span class="fu">lag</span>(causalness_degree)) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove rows without previous causalness_degree (period 1)</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(causalness_lagged))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Step 3: Adjust proportions slightly to avoid exact 0 and 1</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>ita_agg <span class="ot">&lt;-</span> ita_agg <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion_adj =</span> (proportion_anticausative <span class="sc">*</span> (total_count <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="fl">0.5</span>) <span class="sc">/</span> total_count)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>ita_agg<span class="ot">&lt;-</span>ita_agg <span class="sc">%&gt;%</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(proportion_adj), <span class="sc">!</span><span class="fu">is.na</span>(causalness_lagged))</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>ita_agg <span class="ot">&lt;-</span> ita_agg <span class="sc">%&gt;%</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>, <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">2</span>))) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="spanish-data-prepare-for-beta-regression" class="level2">
<h2 class="anchored" data-anchor-id="spanish-data-prepare-for-beta-regression">Spanish data: prepare for Beta Regression</h2>
<p>Subset the Spanish data to obtain unique combinations of lemma and period.</p>
<ul>
<li>Step 1: Aggregate data to calculate the proportion of anticausative codings:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>es_agg <span class="ot">&lt;-</span> es_nc <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(lemma, period) <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">anticausative_count =</span> <span class="fu">sum</span>(coding <span class="sc">==</span> <span class="st">"antic"</span>),</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_count =</span> <span class="fu">n</span>(),</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">proportion_anticausative =</span> anticausative_count <span class="sc">/</span> total_count,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">causalness_degree =</span> <span class="fu">first</span>(causalness_degree),</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Step 2: Create a lagged causalness_degree variable:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>es_agg <span class="ot">&lt;-</span> es_agg <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(lemma, period) <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(lemma) <span class="sc">%&gt;%</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">causalness_lagged =</span> <span class="fu">lag</span>(causalness_degree)) <span class="sc">%&gt;%</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove rows without previous causalness_degree (period 1)</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(causalness_lagged)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Step 3:Adjust proportions slightly to avoid exact 0 and 1</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>es_agg <span class="ot">&lt;-</span> es_agg <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion_adj =</span> (proportion_anticausative <span class="sc">*</span> (total_count <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="fl">0.5</span>) <span class="sc">/</span> total_count)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>es_agg<span class="ot">&lt;-</span>es_agg <span class="sc">%&gt;%</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(proportion_adj), <span class="sc">!</span><span class="fu">is.na</span>(causalness_lagged))</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>es_agg <span class="ot">&lt;-</span> es_agg <span class="sc">%&gt;%</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>, <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">2</span>))) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="fit-the-beta-regression-model" class="level2">
<h2 class="anchored" data-anchor-id="fit-the-beta-regression-model">Fit the Beta Regression model</h2>
<ul>
<li>Step 1: join the Italian and Spanish sub-dataset</li>
<li>Step 2: make the categorical variable into factors; transform <code>period</code> into a numeric variable to be able to use it as a smooth term</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Add a column to each dataset to distinguish them</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>italian <span class="ot">&lt;-</span> ita_agg <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">language =</span> <span class="st">"Italian"</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>spanish <span class="ot">&lt;-</span> es_agg <span class="sc">%&gt;%</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">language =</span> <span class="st">"Spanish"</span>)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="do">## Combine the datasets using bind_rows()</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>join <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(italian, spanish)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: prepare factors variables</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>join<span class="sc">$</span>language<span class="ot">&lt;-</span><span class="fu">as.factor</span>(join<span class="sc">$</span>language)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>join<span class="sc">$</span>period_cat<span class="ot">&lt;-</span><span class="fu">as.factor</span>(join<span class="sc">$</span>period)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>join<span class="sc">$</span>period<span class="ot">&lt;-</span><span class="fu">as.factor</span>(join<span class="sc">$</span>period)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>join<span class="sc">$</span>period <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(join<span class="sc">$</span>period_cat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Hereby a summary of the dataset with only unique combinations of lemma and period and their anticausative count, proportion, synchronic and lagged causalness degree:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the dataset </span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>summary_table <span class="ot">&lt;-</span> join <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(language, lemma, period_cat) <span class="sc">%&gt;%</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">N_Antic =</span> <span class="fu">sum</span>(anticausative_count, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),   <span class="co"># Total count of anticausatives</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">N_Total =</span> <span class="fu">sum</span>(total_count, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),             <span class="co"># Total count of all occurrences</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">%_Antic</span><span class="st">`</span> <span class="ot">=</span> proportion_anticausative <span class="sc">*</span> <span class="dv">100</span>,           <span class="co"># Directly use the original proportion value</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Causalness_Degree =</span> causalness_degree,                <span class="co"># Use the original value</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Causalness_Lagged =</span> causalness_lagged                 <span class="co"># Use the original value</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()  <span class="co"># Remove grouping</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>summary_table <span class="sc">%&gt;%</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"Summary Table of Anticausative Proportions by Language, Lemma, and Period"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>), <span class="at">full_width =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span>  <span class="co"># Optional: make the header row bold</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collapse_rows</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">valign =</span> <span class="st">"top"</span>)  <span class="co"># Collapse the rows for language and lemma</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Summary Table of Anticausative Proportions by Language, Lemma, and Period</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">language</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">lemma</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">period_cat</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">N_Antic</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">N_Total</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">%_Antic</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Causalness_Degree</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Causalness_Lagged</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="56" style="text-align: left; vertical-align: top !important;">Italian</td>
<td rowspan="3" style="text-align: left; vertical-align: top !important;">affondare</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">0.12</td>
</tr>
<tr class="even">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.33</td>
<td style="text-align: right;">0.50</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">0.33</td>
</tr>
<tr class="even">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">alzare</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">88</td>
<td style="text-align: right;">0.82</td>
<td style="text-align: right;">0.82</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.64</td>
<td style="text-align: right;">0.82</td>
</tr>
<tr class="even">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">155</td>
<td style="text-align: right;">155</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.56</td>
<td style="text-align: right;">0.64</td>
</tr>
<tr class="odd">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">ardere</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">95</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.49</td>
<td style="text-align: right;">0.52</td>
</tr>
<tr class="even">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">67</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.36</td>
<td style="text-align: right;">0.49</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">86</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.37</td>
<td style="text-align: right;">0.36</td>
</tr>
<tr class="even">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">arrestare</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.79</td>
<td style="text-align: right;">0.11</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">86</td>
<td style="text-align: right;">0.56</td>
<td style="text-align: right;">0.79</td>
</tr>
<tr class="even">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">101</td>
<td style="text-align: right;">104</td>
<td style="text-align: right;">97</td>
<td style="text-align: right;">0.41</td>
<td style="text-align: right;">0.56</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: top !important;">bruciare</td>
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">0.88</td>
</tr>
<tr class="even">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.62</td>
<td style="text-align: right;">0.50</td>
</tr>
<tr class="odd">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">chiudere</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">73</td>
<td style="text-align: right;">0.81</td>
<td style="text-align: right;">0.67</td>
</tr>
<tr class="even">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.91</td>
<td style="text-align: right;">0.81</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.87</td>
<td style="text-align: right;">0.91</td>
</tr>
<tr class="even">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">dividere</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.90</td>
<td style="text-align: right;">0.78</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">0.90</td>
</tr>
<tr class="even">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.81</td>
<td style="text-align: right;">0.83</td>
</tr>
<tr class="odd">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">fermare</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">46</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">0.49</td>
<td style="text-align: right;">0.80</td>
</tr>
<tr class="even">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.43</td>
<td style="text-align: right;">0.49</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">172</td>
<td style="text-align: right;">185</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">0.28</td>
<td style="text-align: right;">0.43</td>
</tr>
<tr class="even">
<td rowspan="2" style="text-align: left; vertical-align: top !important;">fondere</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">0.82</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.83</td>
</tr>
<tr class="even">
<td style="text-align: left;">gelare</td>
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">31</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">0.30</td>
<td style="text-align: right;">0.50</td>
</tr>
<tr class="odd">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">girare</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">0.41</td>
<td style="text-align: right;">0.11</td>
</tr>
<tr class="even">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">31</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">0.42</td>
<td style="text-align: right;">0.41</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">146</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0.32</td>
<td style="text-align: right;">0.42</td>
</tr>
<tr class="even">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">migliorare</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.45</td>
<td style="text-align: right;">0.77</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.64</td>
<td style="text-align: right;">0.45</td>
</tr>
<tr class="even">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0.75</td>
<td style="text-align: right;">0.64</td>
</tr>
<tr class="odd">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">radunare</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">97</td>
<td style="text-align: right;">0.59</td>
<td style="text-align: right;">0.60</td>
</tr>
<tr class="even">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.61</td>
<td style="text-align: right;">0.59</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">69</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">0.35</td>
<td style="text-align: right;">0.61</td>
</tr>
<tr class="even">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">riempire</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.81</td>
<td style="text-align: right;">0.83</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.88</td>
<td style="text-align: right;">0.81</td>
</tr>
<tr class="even">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">0.88</td>
</tr>
<tr class="odd">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">rompere</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.90</td>
<td style="text-align: right;">0.86</td>
</tr>
<tr class="even">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.90</td>
<td style="text-align: right;">0.90</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">31</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">89</td>
<td style="text-align: right;">0.82</td>
<td style="text-align: right;">0.90</td>
</tr>
<tr class="even">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">sciogliere</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.91</td>
<td style="text-align: right;">0.94</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">83</td>
<td style="text-align: right;">0.93</td>
<td style="text-align: right;">0.91</td>
</tr>
<tr class="even">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">67</td>
<td style="text-align: right;">99</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">0.93</td>
</tr>
<tr class="odd">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">seccare</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">0.47</td>
<td style="text-align: right;">0.71</td>
</tr>
<tr class="even">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">0.17</td>
<td style="text-align: right;">0.47</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">0.36</td>
<td style="text-align: right;">0.17</td>
</tr>
<tr class="even">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">spegnere</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">31</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">89</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">0.67</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">0.78</td>
</tr>
<tr class="even">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">59</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">0.69</td>
<td style="text-align: right;">0.89</td>
</tr>
<tr class="odd">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">svegliare</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">79</td>
<td style="text-align: right;">0.55</td>
<td style="text-align: right;">0.38</td>
</tr>
<tr class="even">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">88</td>
<td style="text-align: right;">0.47</td>
<td style="text-align: right;">0.55</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">61</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">0.56</td>
<td style="text-align: right;">0.47</td>
</tr>
<tr class="even">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">unire</td>
<td style="text-align: left;">1410-1549</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.58</td>
<td style="text-align: right;">0.83</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1550-1619</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.51</td>
<td style="text-align: right;">0.58</td>
</tr>
<tr class="even">
<td style="text-align: left;">1620-1968</td>
<td style="text-align: right;">157</td>
<td style="text-align: right;">159</td>
<td style="text-align: right;">99</td>
<td style="text-align: right;">0.55</td>
<td style="text-align: right;">0.51</td>
</tr>
<tr class="odd">
<td rowspan="43" style="text-align: left; vertical-align: top !important;">Spanish</td>
<td rowspan="3" style="text-align: left; vertical-align: top !important;">abrir</td>
<td style="text-align: left;">1350-1419</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">0.91</td>
</tr>
<tr class="even">
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">0.93</td>
<td style="text-align: right;">0.50</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">0.87</td>
<td style="text-align: right;">0.93</td>
</tr>
<tr class="even">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">alzar</td>
<td style="text-align: left;">1350-1419</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">0.59</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">82</td>
<td style="text-align: right;">0.81</td>
<td style="text-align: right;">0.78</td>
</tr>
<tr class="even">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">88</td>
<td style="text-align: right;">0.68</td>
<td style="text-align: right;">0.81</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: top !important;">apagar</td>
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">0.70</td>
<td style="text-align: right;">0.88</td>
</tr>
<tr class="even">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.60</td>
<td style="text-align: right;">0.70</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: top !important;">cerrar</td>
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">67</td>
<td style="text-align: right;">0.92</td>
<td style="text-align: right;">0.81</td>
</tr>
<tr class="even">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">83</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">0.92</td>
</tr>
<tr class="odd">
<td style="text-align: left;">congelar</td>
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">94</td>
<td style="text-align: right;">0.28</td>
<td style="text-align: right;">0.42</td>
</tr>
<tr class="even">
<td rowspan="2" style="text-align: left; vertical-align: top !important;">derretir</td>
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">49</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">94</td>
<td style="text-align: right;">0.57</td>
<td style="text-align: right;">0.50</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">71</td>
<td style="text-align: right;">73</td>
<td style="text-align: right;">97</td>
<td style="text-align: right;">0.35</td>
<td style="text-align: right;">0.57</td>
</tr>
<tr class="even">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">despertar</td>
<td style="text-align: left;">1350-1419</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.29</td>
<td style="text-align: right;">0.54</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">88</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0.54</td>
<td style="text-align: right;">0.29</td>
</tr>
<tr class="even">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">109</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">0.54</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: top !important;">fundir</td>
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.59</td>
<td style="text-align: right;">0.79</td>
</tr>
<tr class="even">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.29</td>
<td style="text-align: right;">0.59</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: top !important;">girar</td>
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">0.40</td>
</tr>
<tr class="even">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">305</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.27</td>
<td style="text-align: right;">0.50</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: top !important;">hervir</td>
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">148</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.20</td>
<td style="text-align: right;">0.44</td>
</tr>
<tr class="even">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">118</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">0.20</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hundir</td>
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">99</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">99</td>
<td style="text-align: right;">0.36</td>
<td style="text-align: right;">0.24</td>
</tr>
<tr class="even">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">juntar</td>
<td style="text-align: left;">1350-1419</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">0.67</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">157</td>
<td style="text-align: right;">160</td>
<td style="text-align: right;">98</td>
<td style="text-align: right;">0.45</td>
<td style="text-align: right;">0.50</td>
</tr>
<tr class="even">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.53</td>
<td style="text-align: right;">0.45</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: top !important;">levantar</td>
<td style="text-align: left;">1350-1419</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.18</td>
</tr>
<tr class="even">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">77</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">0.53</td>
<td style="text-align: right;">0.38</td>
</tr>
<tr class="odd">
<td style="text-align: left;">llenar</td>
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">0.80</td>
<td style="text-align: right;">0.70</td>
</tr>
<tr class="even">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">mejorar</td>
<td style="text-align: left;">1350-1419</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.17</td>
<td style="text-align: right;">0.23</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">0.54</td>
<td style="text-align: right;">0.17</td>
</tr>
<tr class="even">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">0.62</td>
<td style="text-align: right;">0.54</td>
</tr>
<tr class="odd">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">parar</td>
<td style="text-align: left;">1350-1419</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.82</td>
<td style="text-align: right;">0.58</td>
</tr>
<tr class="even">
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">94</td>
<td style="text-align: right;">46</td>
<td style="text-align: right;">0.35</td>
<td style="text-align: right;">0.82</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: right;">0.35</td>
</tr>
<tr class="even">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">quemar</td>
<td style="text-align: left;">1350-1419</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.93</td>
<td style="text-align: right;">0.87</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">84</td>
<td style="text-align: right;">0.79</td>
<td style="text-align: right;">0.93</td>
</tr>
<tr class="even">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">82</td>
<td style="text-align: right;">0.71</td>
<td style="text-align: right;">0.79</td>
</tr>
<tr class="odd">
<td rowspan="2" style="text-align: left; vertical-align: top !important;">romper</td>
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">0.77</td>
<td style="text-align: right;">0.78</td>
</tr>
<tr class="even">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">0.66</td>
<td style="text-align: right;">0.77</td>
</tr>
<tr class="odd">
<td rowspan="3" style="text-align: left; vertical-align: top !important;">secar</td>
<td style="text-align: left;">1350-1419</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0.20</td>
<td style="text-align: right;">0.43</td>
</tr>
<tr class="even">
<td style="text-align: left;">1420-1699</td>
<td style="text-align: right;">76</td>
<td style="text-align: right;">76</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">0.26</td>
<td style="text-align: right;">0.20</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1700-2001</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">97</td>
<td style="text-align: right;">0.62</td>
<td style="text-align: right;">0.26</td>
</tr>
</tbody>
</table>


</div>
</div>
<ul>
<li><p>Step 3: Fit a beta regression model with <code>mgvc::gam</code>: <code>model1</code> is the maximal model which includes</p></li>
<li><p><code>language</code> as a main effect; You must include <code>language</code> as a main effect in the model if it is a factor, when you use it as a smooth modifier (see argument by= below)</p></li>
<li><p><code>s(causalness_lagged, k=20)</code> and <code>s(period, k=5)</code>, global smooth terms</p></li>
<li><p><code>s(causalness_lagged, by = language, k = 20, bs = "cs", m = 1)</code> and <code>s(period, by = language, k = 5, bs = "cs", m= 1)</code> as group-wise smooths (by <code>language</code>)</p></li>
<li><p><code>family = betar(...)</code>: This tells the model to use a beta regression family, which is designed for modeling proportions or rates — i.e., values that are strictly between 0 and 1 (like 0.23 or 0.85).</p></li>
<li><p><code>link = "logit"</code>:this defines the link function, which transforms the predicted values to stay within the (0, 1) range.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>model1 <span class="ot">&lt;-</span> <span class="fu">gam</span>(</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  proportion_anticausative <span class="sc">~</span> </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    language <span class="sc">+</span> <span class="co">#you must include interaction terms as main effects too!</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">s</span>(causalness_lagged, <span class="at">k=</span><span class="dv">20</span>)<span class="sc">+</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">s</span>(period, <span class="at">k=</span><span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">s</span>(causalness_lagged, <span class="at">by =</span> language, <span class="at">k =</span> <span class="dv">20</span>, <span class="at">bs =</span> <span class="st">"cs"</span>, <span class="at">m =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">s</span>(period, <span class="at">by =</span> language, <span class="at">k =</span> <span class="dv">5</span>, <span class="at">bs =</span> <span class="st">"cs"</span>, <span class="at">m=</span> <span class="dv">1</span>),   </span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">family =</span> <span class="fu">betar</span>(<span class="at">link =</span> <span class="st">"logit"</span>),                 </span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> join</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the model</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Family: Beta regression(0.253) 
Link function: logit 

Formula:
proportion_anticausative ~ language + s(causalness_lagged, k = 20) + 
    s(period, k = 5) + s(causalness_lagged, by = language, k = 20, 
    bs = "cs", m = 1) + s(period, by = language, k = 5, bs = "cs", 
    m = 1)

Parametric coefficients:
                Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)       0.6836     0.1771   3.859 0.000114 ***
languageSpanish   0.1966     0.2683   0.733 0.463758    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Approximate significance of smooth terms:
                                           edf Ref.df Chi.sq  p-value    
s(causalness_lagged)                 1.000e+00  1.000 13.596 0.000227 ***
s(period)                            1.027e+00  1.052  1.763 0.201614    
s(causalness_lagged):languageItalian 5.368e-03 19.000  0.005 0.059742 .  
s(causalness_lagged):languageSpanish 9.067e-01 19.000  4.093 0.023175 *  
s(period):languageItalian            8.323e-05  2.000  0.000 0.680123    
s(period):languageSpanish            9.553e-05  2.000  0.000 0.622924    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

R-sq.(adj) =  0.102   Deviance explained = -1.4%
-REML = -828.02  Scale est. = 1         n = 99</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gam.check</span>(model1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="causal_freq_full_code_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Method: REML   Optimizer: outer newton
full convergence after 11 iterations.
Gradient range [-0.0007619733,1.953451e-05]
(score -828.022 &amp; scale 1).
Hessian positive definite, eigenvalue range [2.678687e-05,68.58312].
Model rank =  71 / 71 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Basis dimension (k) checking results. Low p-value (k-index&lt;1) may
indicate that k is too low, especially if edf is close to k'.

                                           k'      edf k-index p-value
s(causalness_lagged)                 1.90e+01 1.00e+00    1.00    0.54
s(period)                            4.00e+00 1.03e+00    1.05    0.76
s(causalness_lagged):languageItalian 1.90e+01 5.37e-03    1.00    0.52
s(causalness_lagged):languageSpanish 1.90e+01 9.07e-01    1.00    0.44
s(period):languageItalian            4.00e+00 8.32e-05    1.05    0.70
s(period):languageSpanish            4.00e+00 9.55e-05    1.05    0.71</code></pre>
</div>
</div>
<p>The function <code>gam.check()</code> runs a set of diagnostic checks on your fitted gam model (like model1). It’s used to evaluate whether your model is well-specified and whether the smoothing basis (the k values) is adequate. * k-index – Should ideally be ≥ 1; * values &lt; 1 may mean k is too low. p-value – If this is low (e.g.&nbsp;&lt; 0.05) and edf ≈ k’, you may need a larger k.</p>
<p>Here all p-values are high and edf is well below k’, so our smooth terms are well-behaved and the choice of k is appropriate.</p>
<p>However, the summary indicates that the <code>period</code> smooth and its group-wise interaction are non-significant. We proceed with a backward selection.</p>
<ul>
<li>Step 3: Backward selection</li>
</ul>
<p>In <code>model2</code> we start by removing <code>s(period, by = language, k = 5, bs = "cs", m= 1)</code>. We check the difference with three different methods: + <code>compareML()</code> (from the itsadug package) compares two or more gam or gamm models using AIC, BIC, log-likelihood, and explained deviance. + <code>anova.gam()</code> compares two nested GAM models (e.g., model1 and a simpler model2) using a likelihood ratio test (Chi-squared test) + <code>AIC()</code>: it calculates the AIC of the two models, which is a measure of model fit that balances goodness-of-fit with model complexity (penalizes overfitting)</p>
<p>These three tests tell us that although the AIC of model1 is better (also shown by the ANOVA), model2 is preferred.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">#remove s(period, by = language, k = 5, bs = "cs", m= 1),   </span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>model2 <span class="ot">&lt;-</span> <span class="fu">gam</span>(</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  proportion_anticausative <span class="sc">~</span> </span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    language <span class="sc">+</span> </span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">s</span>(causalness_lagged, <span class="at">k=</span><span class="dv">20</span>)<span class="sc">+</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">s</span>(period, <span class="at">k=</span><span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">s</span>(causalness_lagged, <span class="at">by =</span> language, <span class="at">k =</span> <span class="dv">20</span>, <span class="at">bs =</span> <span class="st">"cs"</span>, <span class="at">m =</span> <span class="dv">1</span>),</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">family =</span> <span class="fu">betar</span>(<span class="at">link =</span> <span class="st">"logit"</span>),                 </span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> join</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="fu">anova.gam</span>(model1, model2, <span class="at">test =</span> <span class="st">"Chisq"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Deviance Table

Model 1: proportion_anticausative ~ language + s(causalness_lagged, k = 20) + 
    s(period, k = 5) + s(causalness_lagged, by = language, k = 20, 
    bs = "cs", m = 1) + s(period, by = language, k = 5, bs = "cs", 
    m = 1)
Model 2: proportion_anticausative ~ language + s(causalness_lagged, k = 20) + 
    s(period, k = 5) + s(causalness_lagged, by = language, k = 20, 
    bs = "cs", m = 1)
  Resid. Df Resid. Dev       Df Deviance Pr(&gt;Chi)  
1    93.449    -1666.3                             
2    93.435    -1666.3 0.014374 0.010322  0.03322 *
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">compareML</span>(model1, model2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>model1: proportion_anticausative ~ language + s(causalness_lagged, k = 20) + 
    s(period, k = 5) + s(causalness_lagged, by = language, k = 20, 
    bs = "cs", m = 1) + s(period, by = language, k = 5, bs = "cs", 
    m = 1)

model2: proportion_anticausative ~ language + s(causalness_lagged, k = 20) + 
    s(period, k = 5) + s(causalness_lagged, by = language, k = 20, 
    bs = "cs", m = 1)

Model model2 preferred: lower REML score (0.000), and lower df (2.000).
-----
   Model    Score Edf Difference    Df
1 model1 -828.022  10                 
2 model2 -828.022   8     -0.000 2.000

AIC difference: -0.01, model model1 has lower AIC.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(model1, model2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             df       AIC
model1 6.244764 -1653.798
model2 6.254698 -1653.788</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Family: Beta regression(0.253) 
Link function: logit 

Formula:
proportion_anticausative ~ language + s(causalness_lagged, k = 20) + 
    s(period, k = 5) + s(causalness_lagged, by = language, k = 20, 
    bs = "cs", m = 1)

Parametric coefficients:
                Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)       0.6837     0.1772   3.859 0.000114 ***
languageSpanish   0.1960     0.2685   0.730 0.465291    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Approximate significance of smooth terms:
                                         edf Ref.df Chi.sq  p-value    
s(causalness_lagged)                 1.00017  1.000 13.053 0.000303 ***
s(period)                            1.03086  1.061  1.773 0.203199    
s(causalness_lagged):languageItalian 0.01013 19.000  0.010 0.059782 .  
s(causalness_lagged):languageSpanish 0.90324 19.000  4.006 0.023209 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

R-sq.(adj) =  0.102   Deviance explained = -1.4%
-REML = -828.02  Scale est. = 1         n = 99</code></pre>
</div>
</div>
<p>So we take <code>model2</code> to be better, and we proceed looking at its summary which shows that <code>s(period)</code> is non-significant. We fit <code>model3</code> without it, and use the same tests. All of them show that <code>model3</code> is better.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove #s(period, k=5)</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>model3 <span class="ot">&lt;-</span> <span class="fu">gam</span>(</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  proportion_anticausative <span class="sc">~</span> </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    language <span class="sc">+</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">s</span>(causalness_lagged, <span class="at">k=</span><span class="dv">20</span>)<span class="sc">+</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">s</span>(causalness_lagged, <span class="at">by =</span> language, <span class="at">k =</span> <span class="dv">20</span>, <span class="at">bs =</span> <span class="st">"cs"</span>, <span class="at">m =</span> <span class="dv">1</span>),</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">family =</span> <span class="fu">betar</span>(<span class="at">link =</span> <span class="st">"logit"</span>),                 </span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> join</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Family: Beta regression(0.25) 
Link function: logit 

Formula:
proportion_anticausative ~ language + s(causalness_lagged, k = 20) + 
    s(causalness_lagged, by = language, k = 20, bs = "cs", m = 1)

Parametric coefficients:
                Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)       0.6826     0.1767   3.862 0.000112 ***
languageSpanish   0.2038     0.2671   0.763 0.445554    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Approximate significance of smooth terms:
                                         edf Ref.df Chi.sq p-value  
s(causalness_lagged)                 1.00055  1.001  0.856  0.3551  
s(causalness_lagged):languageItalian 0.91942 19.000  3.426  0.0258 *
s(causalness_lagged):languageSpanish 0.03915 19.000  0.039  0.0452 *
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

R-sq.(adj) =  0.117   Deviance explained = -1.24%
-REML = -828.3  Scale est. = 1         n = 99</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anova.gam</span>(model3, model2, <span class="at">test =</span> <span class="st">"Chisq"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Deviance Table

Model 1: proportion_anticausative ~ language + s(causalness_lagged, k = 20) + 
    s(causalness_lagged, by = language, k = 20, bs = "cs", m = 1)
Model 2: proportion_anticausative ~ language + s(causalness_lagged, k = 20) + 
    s(period, k = 5) + s(causalness_lagged, by = language, k = 20, 
    bs = "cs", m = 1)
  Resid. Df Resid. Dev      Df Deviance Pr(&gt;Chi)
1    94.404    -1664.5                          
2    93.435    -1666.3 0.96863   1.7677   0.1768</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">compareML</span>(model3, model2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>model3: proportion_anticausative ~ language + s(causalness_lagged, k = 20) + 
    s(causalness_lagged, by = language, k = 20, bs = "cs", m = 1)

model2: proportion_anticausative ~ language + s(causalness_lagged, k = 20) + 
    s(period, k = 5) + s(causalness_lagged, by = language, k = 20, 
    bs = "cs", m = 1)

Model model3 preferred: lower REML score (0.279), and lower df (2.000).
-----
   Model    Score Edf Difference     Df
1 model2 -828.022   8                  
2 model3 -828.301   6      0.279 -2.000

AIC difference: -0.19, model model3 has lower AIC.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(model3, model2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             df       AIC
model3 5.277750 -1653.975
model2 6.254698 -1653.788</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gam.check</span>(model3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="causal_freq_full_code_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Method: REML   Optimizer: outer newton
full convergence after 15 iterations.
Gradient range [-0.002804202,-3.399489e-05]
(score -828.301 &amp; scale 1).
Hessian positive definite, eigenvalue range [3.400332e-05,68.54206].
Model rank =  59 / 59 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Basis dimension (k) checking results. Low p-value (k-index&lt;1) may
indicate that k is too low, especially if edf is close to k'.

                                          k'     edf k-index p-value
s(causalness_lagged)                 19.0000  1.0005    0.99    0.42
s(causalness_lagged):languageItalian 19.0000  0.9194    0.99    0.38
s(causalness_lagged):languageSpanish 19.0000  0.0391    0.99    0.46</code></pre>
</div>
</div>
<p>We proceed by removing <code>s(causalness_lagged, k=20)</code> (non-signitcant in <code>model3</code>) in <code>model4</code>, and all the tests indicate that this is the best fitted model (see also the <code>gam.check</code> output).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove #s(causalness_lagged, k=20)</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>model4 <span class="ot">&lt;-</span> <span class="fu">gam</span>(</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  proportion_anticausative <span class="sc">~</span> </span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>    language <span class="sc">+</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">s</span>(causalness_lagged, <span class="at">by =</span> language, <span class="at">k =</span> <span class="dv">20</span>, <span class="at">bs =</span> <span class="st">"cs"</span>, <span class="at">m =</span> <span class="dv">1</span>),</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">family =</span> <span class="fu">betar</span>(<span class="at">link =</span> <span class="st">"logit"</span>),                 </span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> join</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Family: Beta regression(0.25) 
Link function: logit 

Formula:
proportion_anticausative ~ language + s(causalness_lagged, by = language, 
    k = 20, bs = "cs", m = 1)

Parametric coefficients:
                Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)       0.6802     0.1769   3.845 0.000121 ***
languageSpanish   0.1825     0.2659   0.686 0.492543    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Approximate significance of smooth terms:
                                           edf Ref.df Chi.sq  p-value    
s(causalness_lagged):languageItalian 1.1828015     19  14.62 8.56e-05 ***
s(causalness_lagged):languageSpanish 0.0006152     19   0.00    0.607    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

R-sq.(adj) =  0.107   Deviance explained = -1.23%
-REML = -828.69  Scale est. = 1         n = 99</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anova.gam</span>(model3, model4, <span class="at">test =</span> <span class="st">"Chisq"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Deviance Table

Model 1: proportion_anticausative ~ language + s(causalness_lagged, k = 20) + 
    s(causalness_lagged, by = language, k = 20, bs = "cs", m = 1)
Model 2: proportion_anticausative ~ language + s(causalness_lagged, by = language, 
    k = 20, bs = "cs", m = 1)
  Resid. Df Resid. Dev       Df  Deviance Pr(&gt;Chi)
1    94.404    -1664.5                            
2    95.269    -1664.5 -0.86526 -0.026493   0.8269</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">compareML</span>(model3, model4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>model3: proportion_anticausative ~ language + s(causalness_lagged, k = 20) + 
    s(causalness_lagged, by = language, k = 20, bs = "cs", m = 1)

model4: proportion_anticausative ~ language + s(causalness_lagged, by = language, 
    k = 20, bs = "cs", m = 1)

Model model4 preferred: lower REML score (0.393), and lower df (2.000).
-----
   Model     Score Edf Difference    Df
1 model3 -828.3010   6                 
2 model4 -828.6942   4     -0.393 2.000

AIC difference: 1.61, model model4 has lower AIC.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(model3, model4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             df       AIC
model3 5.277750 -1653.975
model4 4.457267 -1655.589</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gam.check</span>(model4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="causal_freq_full_code_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Method: REML   Optimizer: outer newton
full convergence after 11 iterations.
Gradient range [-0.0002298107,-3.774758e-15]
(score -828.6942 &amp; scale 1).
Hessian positive definite, eigenvalue range [0.0002297221,68.36275].
Model rank =  40 / 40 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Basis dimension (k) checking results. Low p-value (k-index&lt;1) may
indicate that k is too low, especially if edf is close to k'.

                                           k'      edf k-index p-value
s(causalness_lagged):languageItalian 1.90e+01 1.18e+00    1.01    0.54
s(causalness_lagged):languageSpanish 1.90e+01 6.15e-04    1.01    0.51</code></pre>
</div>
</div>
<ul>
<li>Step 4: Print the results of the best model <code>model4</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the report table</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> report<span class="sc">::</span><span class="fu">report_table</span>(model4)</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define which columns to format (only numeric ones)</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>numeric_cols <span class="ot">&lt;-</span> <span class="fu">sapply</span>(results, is.numeric)</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Round numeric columns to 3 digits, suppress scientific notation</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>results_clean <span class="ot">&lt;-</span> results</span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>results_clean[numeric_cols] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(results[numeric_cols], <span class="cf">function</span>(x) {</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ifelse</span>(<span class="fu">is.na</span>(x), <span class="cn">NA</span>, <span class="fu">round</span>(x, <span class="dv">3</span>))</span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Print </span></span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(results_clean, <span class="at">digits =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 1%">
<col style="width: 26%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 8%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Parameter</th>
<th style="text-align: left;">Component</th>
<th style="text-align: right;">Coefficient</th>
<th style="text-align: right;">CI</th>
<th style="text-align: right;">CI_low</th>
<th style="text-align: right;">CI_high</th>
<th style="text-align: right;">z</th>
<th style="text-align: right;">df</th>
<th style="text-align: right;">p</th>
<th style="text-align: right;">Std_Coefficient</th>
<th style="text-align: right;">Std_Coefficient_CI_low</th>
<th style="text-align: right;">Std_Coefficient_CI_high</th>
<th style="text-align: right;">Fit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: left;">conditional</td>
<td style="text-align: right;">0.680</td>
<td style="text-align: right;">0.95</td>
<td style="text-align: right;">0.333</td>
<td style="text-align: right;">1.027</td>
<td style="text-align: right;">3.845</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.680</td>
<td style="text-align: right;">0.333</td>
<td style="text-align: right;">1.027</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">languageSpanish</td>
<td style="text-align: left;">conditional</td>
<td style="text-align: right;">0.182</td>
<td style="text-align: right;">0.95</td>
<td style="text-align: right;">-0.339</td>
<td style="text-align: right;">0.704</td>
<td style="text-align: right;">0.686</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.493</td>
<td style="text-align: right;">0.182</td>
<td style="text-align: right;">-0.339</td>
<td style="text-align: right;">0.704</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">Smooth term (causalness lagged) × languageItalian</td>
<td style="text-align: left;">smooth_terms</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">14.625</td>
<td style="text-align: right;">1.183</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">Smooth term (causalness lagged) × languageSpanish</td>
<td style="text-align: left;">smooth_terms</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.001</td>
<td style="text-align: right;">0.607</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;">AIC</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">-1655.589</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: left;">AICc</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">-1655.069</td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: left;">BIC</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">-1644.022</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9</td>
<td style="text-align: left;">R2</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.107</td>
</tr>
<tr class="even">
<td style="text-align: left;">11</td>
<td style="text-align: left;">Sigma</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1.000</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="visualise-the-results" class="level2">
<h2 class="anchored" data-anchor-id="visualise-the-results">Visualise the results</h2>
<p>Visualisation of the effect of <code>causalness_lagged</code> by <code>language</code> and <code>language</code> of <code>model4</code> (now renamed <code>model</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>model<span class="ot">&lt;-</span>model4</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Incorporate predictions from beta regression to the original dataset</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> join <span class="sc">%&gt;%</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fit =</span> <span class="fu">predict</span>(model4, <span class="at">newdata =</span> join, <span class="at">type =</span> <span class="st">"response"</span>))</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(fit, <span class="fu">aes</span>(<span class="at">x =</span> causalness_lagged, <span class="at">y =</span> proportion_anticausative, <span class="at">color =</span> causalness_lagged)) <span class="sc">+</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color=</span> <span class="st">"#fc8961"</span>) <span class="sc">+</span>  </span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"gam"</span>, <span class="at">se =</span> F, <span class="fu">aes</span>(<span class="at">group =</span> language), <span class="at">color=</span> <span class="st">"#fc8961"</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span>  </span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> language) <span class="sc">+</span>  </span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">""</span>,</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Lagged Causalness Degree"</span>,</span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Proportion of Anticausative"</span>,</span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Lagged Causalness Degree"</span></span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="causal_freq_full_code_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set causalness_lagged to its mean value to isolate the main effect of language</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>mean_causalness_lagged <span class="ot">&lt;-</span> <span class="fu">mean</span>(join<span class="sc">$</span>causalness_lagged)</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new dataset with the fixed causalness_lagged (set to mean)</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>fit2 <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">language =</span> <span class="fu">unique</span>(join<span class="sc">$</span>language), </span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">causalness_lagged =</span> mean_causalness_lagged)</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Get predictions from the model (with causalness_lagged held constant)</span></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>fit2<span class="sc">$</span>predicted_proportion <span class="ot">&lt;-</span> <span class="fu">predict</span>(model4, <span class="at">newdata =</span> fit2, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the main effect of language</span></span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(fit2, <span class="fu">aes</span>(<span class="at">x =</span> language, <span class="at">y =</span> predicted_proportion)) <span class="sc">+</span></span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">3</span>,  <span class="at">color =</span> <span class="st">"#fc8961"</span>) <span class="sc">+</span>  </span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">color =</span> <span class="st">"#fc8961"</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span>  </span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">""</span>,</span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Language"</span>,</span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Predicted Proportion of Anticausative"</span>,</span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Language"</span></span>
<span id="cb68-20"><a href="#cb68-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb68-21"><a href="#cb68-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb68-22"><a href="#cb68-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb68-23"><a href="#cb68-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="causal_freq_full_code_files/figure-html/unnamed-chunk-32-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>